(()=>{var e,t,n,r={3694:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TunnelServiceProperties=t.TunnelProtocol=t.TunnelHeaderNames=t.TunnelEndpoint=t.TunnelConnectionMode=t.TunnelAccessScopes=t.TunnelAccessControlEntryType=t.TunnelAccessControl=void 0;var r=n(3640);Object.defineProperty(t,"TunnelAccessControl",{enumerable:!0,get:function(){return r.TunnelAccessControl}});var s=n(6779);Object.defineProperty(t,"TunnelAccessControlEntryType",{enumerable:!0,get:function(){return s.TunnelAccessControlEntryType}});var o=n(1220);Object.defineProperty(t,"TunnelAccessScopes",{enumerable:!0,get:function(){return o.TunnelAccessScopes}});var i=n(2620);Object.defineProperty(t,"TunnelConnectionMode",{enumerable:!0,get:function(){return i.TunnelConnectionMode}});var a=n(7650);Object.defineProperty(t,"TunnelEndpoint",{enumerable:!0,get:function(){return a.TunnelEndpoint}});var c=n(1501);Object.defineProperty(t,"TunnelHeaderNames",{enumerable:!0,get:function(){return c.TunnelHeaderNames}});var u=n(6320);Object.defineProperty(t,"TunnelProtocol",{enumerable:!0,get:function(){return u.TunnelProtocol}});var l=n(5972);Object.defineProperty(t,"TunnelServiceProperties",{enumerable:!0,get:function(){return l.TunnelServiceProperties}})},3640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TunnelAccessControl=void 0;const r=n(512);t.TunnelAccessControl={validateScopes:r.validateScopes}},6779:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TunnelAccessControlEntryType=void 0,(n=t.TunnelAccessControlEntryType||(t.TunnelAccessControlEntryType={})).None="None",n.Anonymous="Anonymous",n.Users="Users",n.Groups="Groups",n.Organizations="Organizations",n.Repositories="Repositories",n.PublicKeys="PublicKeys",n.IPAddressRanges="IPAddressRanges"},512:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.validateScopes=void 0;const r=n(1220),s=[r.TunnelAccessScopes.Manage,r.TunnelAccessScopes.Host,r.TunnelAccessScopes.Inspect,r.TunnelAccessScopes.Connect];t.validateScopes=function(e,t){if(!Array.isArray(e))throw new TypeError("A scopes array was expected.");e.forEach((e=>{if(!e)throw new Error("Tunnel access scopes include a null/empty item.");if(!s.includes(e))throw new Error("Invalid tunnel access scope: "+e)})),Array.isArray(t)&&e.forEach((e=>{if(!t.includes(e))throw new Error("Tunnel access scope is invalid for current request: scope")}))}},1220:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TunnelAccessScopes=void 0,(n=t.TunnelAccessScopes||(t.TunnelAccessScopes={})).Create="create",n.Manage="manage",n.Host="host",n.Inspect="inspect",n.Connect="connect"},2620:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TunnelConnectionMode=void 0,(n=t.TunnelConnectionMode||(t.TunnelConnectionMode={})).LocalNetwork="LocalNetwork",n.TunnelRelay="TunnelRelay"},7650:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TunnelEndpoint=t.portUriToken=void 0,t.portUriToken="{port}";const r=n(599);t.TunnelEndpoint={portUriToken:t.portUriToken,getPortUri:r.getPortUri}},599:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getPortUri=void 0;const r=n(7650);t.getPortUri=function(e,t){if(!e)throw new TypeError("A tunnel endpoint is required.");if("number"==typeof t&&e.portUriFormat)return e.portUriFormat.replace(r.portUriToken,t.toString())}},1501:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TunnelHeaderNames=void 0,(n=t.TunnelHeaderNames||(t.TunnelHeaderNames={})).XTunnelAuthorization="X-Tunnel-Authorization",n.XRequestID="X-Request-ID",n.XGithubSshKey="X-Github-Ssh-Key"},6320:(e,t)=>{"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),t.TunnelProtocol=void 0,(n=t.TunnelProtocol||(t.TunnelProtocol={})).Auto="auto",n.Tcp="tcp",n.Udp="udp",n.Ssh="ssh",n.Rdp="rdp",n.Http="http",n.Https="https"},5972:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TunnelServiceProperties=t.nonProdGitHubAppClientId=t.prodGitHubAppClientId=t.devThirdPartyAppId=t.ppeThirdPartyAppId=t.prodThirdPartyAppId=t.nonProdFirstPartyAppId=t.prodFirstPartyAppId=t.devDnsName=t.ppeDnsName=t.prodDnsName=void 0,t.prodDnsName="global.rel.tunnels.api.visualstudio.com",t.ppeDnsName="global.rel.tunnels.ppe.api.visualstudio.com",t.devDnsName="global.ci.tunnels.dev.api.visualstudio.com",t.prodFirstPartyAppId="46da2f7e-b5ef-422a-88d4-2a7f9de6a0b2",t.nonProdFirstPartyAppId="54c45752-bacd-424a-b928-652f3eca2b18",t.prodThirdPartyAppId="ce65d243-a913-4cae-a7dd-cb52e9f77647",t.ppeThirdPartyAppId="544167a6-f431-4518-aac6-2fd50071928e",t.devThirdPartyAppId="a118c979-0249-44bb-8f95-eb0457127aeb",t.prodGitHubAppClientId="Iv1.e7b89e013f801f03",t.nonProdGitHubAppClientId="Iv1.b231c327f1eaa229";const r=n(999);t.TunnelServiceProperties={production:r.production,staging:r.staging,development:r.development,environment:r.environment}},999:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.environment=t.development=t.staging=t.production=void 0;const r=n(5972);t.production={serviceUri:`https://${r.prodDnsName}/`,serviceAppId:r.prodFirstPartyAppId,serviceInternalAppId:r.prodThirdPartyAppId,gitHubAppClientId:r.prodGitHubAppClientId},t.staging={serviceUri:`https://${r.ppeDnsName}/`,serviceAppId:r.nonProdFirstPartyAppId,serviceInternalAppId:r.ppeThirdPartyAppId,gitHubAppClientId:r.nonProdGitHubAppClientId},t.development={serviceUri:`https://${r.devDnsName}/`,serviceAppId:r.nonProdFirstPartyAppId,serviceInternalAppId:r.devThirdPartyAppId,gitHubAppClientId:r.nonProdGitHubAppClientId},t.environment=function(e){if(!e)throw new Error(`Invalid argument: ${e}`);switch(e.toLowerCase()){case"prod":case"production":return t.production;case"ppe":case"preprod":return t.staging;case"dev":case"development":return t.development;default:throw new Error(`Invalid service environment: ${e}`)}}},6318:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),s(n(3301),t),s(n(4230),t),s(n(9876),t)},4230:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TunnelAuthenticationSchemes=void 0;class n{}t.TunnelAuthenticationSchemes=n,n.aad="aad",n.github="github",n.tunnel="tunnel"},3301:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TunnelManagementHttpClient=void 0;const r=n(3694),s=n(4230),o=n(773),i=n(9669),a="/api/v1/tunnels",c="/ports",u="Authorization";function l(e,t){var n,r;return(null!==(n=e.portNumber)&&void 0!==n?n:Number.MAX_SAFE_INTEGER)-(null!==(r=t.portNumber)&&void 0!==r?r:Number.MAX_SAFE_INTEGER)}function h(e){return"string"==typeof e?new Date(Date.parse(e)):e}function d(e){e&&(e.created=h(e.created),e.status&&(e.status.lastHostConnectionTime=h(e.status.lastHostConnectionTime),e.status.lastClientConnectionTime=h(e.status.lastClientConnectionTime)))}function p(e){e&&e.status&&(e.status.lastClientConnectionTime=h(e.status.lastClientConnectionTime))}const f=[r.TunnelAccessScopes.Manage],m=[r.TunnelAccessScopes.Host],g=[r.TunnelAccessScopes.Manage,r.TunnelAccessScopes.Host],y=[r.TunnelAccessScopes.Manage,r.TunnelAccessScopes.Host,r.TunnelAccessScopes.Connect];t.TunnelManagementHttpClient=class{constructor(e,t,n,s){var o;if(this.httpsAgent=s,this.trace=e=>{},!e)throw new TypeError("User agent must be provided.");if(Array.isArray(e)){if(0===e.length)throw new TypeError("User agents cannot be empty.");let t="";e.forEach((e=>{var n;if("string"!=typeof e){if(!e.name)throw new TypeError("Invalid user agent. The name must be provided.");if("string"!=typeof e.name)throw new TypeError("Invalid user agent. The name must be a string.");if(e.version&&"string"!=typeof e.version)throw new TypeError("Invalid user agent. The version must be a string.");t=`${t}${e.name}/${null!==(n=e.version)&&void 0!==n?n:"unknown"} `}else t=`${t}${e} `})),this.userAgents=t.trim()}else if("string"!=typeof e){if(!e.name)throw new TypeError("Invalid user agent. The name must be provided.");if("string"!=typeof e.name)throw new TypeError("Invalid user agent. The name must be a string.");if(e.version&&"string"!=typeof e.version)throw new TypeError("Invalid user agent. The version must be a string.");this.userAgents=`${e.name}/${null!==(o=e.version)&&void 0!==o?o:"unknown"}`}else this.userAgents=e;this.accessTokenCallback=null!=t?t:()=>Promise.resolve(null),n||(n=r.TunnelServiceProperties.production.serviceUri);const i=new URL(n);if(!i||"/"!==i.pathname)throw new TypeError(`Invalid tunnel service URI: ${n}`);this.baseAddress=n}async listTunnels(e,t,n){const r=[e?null:"global=true",t?`domain=${t}`:null].filter((e=>!!e)).join("&"),s=this.buildUri(e,a,n,r),o=await this.getAxiosRequestConfig(void 0,n,y),i=await this.request("GET",s,void 0,o);return i.forEach(d),i}async getTunnel(e,t){const n=this.buildUriForTunnel(e,t),r=await this.getAxiosRequestConfig(e,t,y),s=await this.request("GET",n,void 0,r);return d(s),s}async createTunnel(e,t){if(e.tunnelId)throw new Error("An ID may not be specified when creating a tunnel.");const n=this.buildUri(e.clusterId,a,t),r=await this.getAxiosRequestConfig(e,t,f);e=this.convertTunnelForRequest(e);const s=await this.request("POST",n,e,r);return d(s),s}async updateTunnel(e,t){const n=this.buildUriForTunnel(e,t),r=await this.getAxiosRequestConfig(e,t,f),s=await this.request("PUT",n,this.convertTunnelForRequest(e),r);return(null==t?void 0:t.tokenScopes)||(s.accessTokens=e.accessTokens),d(s),s}async deleteTunnel(e,t){const n=this.buildUriForTunnel(e,t),r=await this.getAxiosRequestConfig(e,t,f);return await this.request("DELETE",n,void 0,r)}async updateTunnelEndpoint(e,t,n){const r=this.buildUriForTunnel(e,n,`/endpoints/${t.hostId}/${t.connectionMode}`),s=await this.getAxiosRequestConfig(e,n,m),o=await this.request("PUT",r,t,s);return e.endpoints&&(e.endpoints=e.endpoints.filter((e=>e.hostId!==t.hostId||e.connectionMode!==t.connectionMode)).concat(o)),o}async deleteTunnelEndpoints(e,t,n,r){let s=null==n?`/endpoints/${t}`:`/endpoints/${t}/${n}`;const o=this.buildUriForTunnel(e,r,s),i=await this.getAxiosRequestConfig(e,r,m),a=await this.request("DELETE",o,void 0,i);return a&&e.endpoints&&(e.endpoints=e.endpoints.filter((e=>e.hostId!==t||e.connectionMode!==n))),a}async listTunnelPorts(e,t){const n=this.buildUriForTunnel(e,t,c),r=await this.getAxiosRequestConfig(e,t,y),s=await this.request("GET",n,void 0,r);return s.forEach(p),s}async getTunnelPort(e,t,n){const r=this.buildUriForTunnel(e,n,`/ports/${t}`),s=await this.getAxiosRequestConfig(e,n,y),o=await this.request("GET",r,void 0,s);return p(o),o}async createTunnelPort(e,t,n){const r=this.buildUriForTunnel(e,n,c),s=await this.getAxiosRequestConfig(e,n,g);t=this.convertTunnelPortForRequest(e,t);const o=await this.request("POST",r,t,s);return e.ports&&(e.ports=e.ports.filter((e=>e.portNumber!==t.portNumber)).concat(o).sort(l)),p(o),o}async updateTunnelPort(e,t,n){if(t.clusterId&&e.clusterId&&t.clusterId!==e.clusterId)throw new Error("Tunnel port cluster ID is not consistent.");let r=t.portNumber;const s=this.buildUriForTunnel(e,n,`/ports/${r}`),o=await this.getAxiosRequestConfig(e,n,g),i=await this.request("PUT",s,this.convertTunnelPortForRequest(e,t),o);return e.ports&&(e.ports=e.ports.filter((e=>e.portNumber!==t.portNumber)).concat(i).sort(l)),(null==n?void 0:n.tokenScopes)||(i.accessTokens=t.accessTokens),p(i),i}async deleteTunnelPort(e,t,n){const r=this.buildUriForTunnel(e,n,`/ports/${t}`),s=await this.getAxiosRequestConfig(e,n,g),o=await this.request("DELETE",r,void 0,s);return o&&e.ports&&(e.ports=e.ports.filter((e=>e.portNumber!==t)).sort(l)),o}getResponseErrorMessage(e){var t,n,r,s;let o="";if(null===(t=e.response)||void 0===t?void 0:t.data){let t=e.response.data;(t.title||t.detail)&&(o=`Tunnel service error: ${t.title}`,t.detail&&(o+=" "+t.detail),t.errors&&(o+=JSON.stringify(t.errors)))}o||(o=(null==e?void 0:e.response)?`Tunnel service returned status code: ${e.response.status} ${e.response.statusText}`:null!==(r=null!==(n=null==e?void 0:e.message)&&void 0!==n?n:e)&&void 0!==r?r:"Unknown tunnel service request error.");const i="VsSaaS-Request-Id";return(null===(s=e.response)||void 0===s?void 0:s.headers)&&e.response.headers[i]&&(o+=`\nRequest ID: ${e.response.headers[i]}`),o}buildUri(e,t,n,r){let s=this.baseAddress;if(e){const t=new URL(s),n=parseInt(t.port,10);if("localhost"===t.hostname||t.hostname.startsWith(`${e}.`)){if("https:"===t.protocol&&e.startsWith("localhost")&&n%10>0){const r=parseInt(e.substring("localhost".length),10);r>0&&r<10&&(t.port=(n-n%10+r).toString(),s=t.toString())}}else t.hostname=`${e}.${t.hostname}`.replace("global.",""),s=t.toString()}s=`${s.replace(/\/$/,"")}${t}`;let o=this.tunnelRequestOptionsToQueryString(n,r);return o&&(s+=`?${o}`),s}buildUriForTunnel(e,t,n,r){let s="";if(e.clusterId&&e.tunnelId)s=`/api/v1/tunnels/${e.tunnelId}`;else{if(!e.name)throw new Error("Tunnel object must include either a name or tunnel ID and cluster ID.");s=`/api/v1/tunnels/${e.name}`}return this.buildUri(e.clusterId,s+(n||""),t,r)}async getAxiosRequestConfig(e,t,n){let r={};if(t&&t.accessToken&&(r.Authorization=`${s.TunnelAuthenticationSchemes.tunnel} ${t.accessToken}`),!(u in r)&&this.accessTokenCallback){let e=await this.accessTokenCallback();e&&(r.Authorization=e)}if(!(u in r)&&(null==e?void 0:e.accessTokens))for(let t of null!=n?n:[])if(e.accessTokens[t]){r.Authorization=`${s.TunnelAuthenticationSchemes.tunnel} ${e.accessTokens[t]}`;break}const i=e=>{if(e)for(let[t,n]of Object.entries(e))r[t]=n};i(this.additionalRequestHeaders),i(null==t?void 0:t.additionalHeaders);const a=r["User-Agent"]?r["User-Agent"]+" ":"";r["User-Agent"]=`${a}${this.userAgents} ${o.tunnelSdkUserAgent}`;let c=Object.assign({headers:r},this.httpsAgent&&{httpsAgent:this.httpsAgent});return!1===(null==t?void 0:t.followRedirects)&&(c.maxRedirects=0),c}convertTunnelForRequest(e){var t;return{name:e.name,domain:e.domain,description:e.description,tags:e.tags,options:e.options,accessControl:e.accessControl?{entries:e.accessControl.entries.filter((e=>!e.isInherited))}:void 0,endpoints:e.endpoints,ports:null===(t=e.ports)||void 0===t?void 0:t.map((t=>this.convertTunnelPortForRequest(e,t)))}}convertTunnelPortForRequest(e,t){if(t.clusterId&&e.clusterId&&t.clusterId!==e.clusterId)throw new Error("Tunnel port cluster ID does not match tunnel.");if(t.tunnelId&&e.tunnelId&&t.tunnelId!==e.tunnelId)throw new Error("Tunnel port tunnel ID does not match tunnel.");return{portNumber:t.portNumber,protocol:t.protocol,options:t.options,accessControl:t.accessControl?{entries:t.accessControl.entries.filter((e=>!e.isInherited))}:void 0}}tunnelRequestOptionsToQueryString(e,t){let n={};const s=[];return e&&(e.includePorts&&(n.includePorts=["true"]),e.scopes&&(r.TunnelAccessControl.validateScopes(e.scopes),n.scopes=e.scopes),e.tokenScopes&&(r.TunnelAccessControl.validateScopes(e.tokenScopes),n.tokenScopes=e.tokenScopes),e.forceRename&&(n.forceRename=["true"]),e.tags&&(n.tags=e.tags,e.requireAllTags&&(n.allTags=["true"])),s.push(...Object.keys(n).map((e=>`${e}=${n[e].map(encodeURIComponent).join(",")}`)))),t&&s.push(t),s.join("&")}async request(e,t,n,r){this.trace(`${e} ${t}`),this.traceHeaders(r.headers),this.traceContent(n);const s=e=>{this.trace(`${e.status} ${e.statusText}`),this.traceHeaders(e.headers),this.traceContent(e.data)};try{r.url=t,r.method=e,r.data=n;let o=await i.default.request(r);return s(o),o.data}catch(e){if(!(e instanceof Error&&e.isAxiosError))throw e;const t=e;throw t.response&&s(t.response),t.message=this.getResponseErrorMessage(t),delete t.request,t.response&&(delete t.config.httpAgent,delete t.config.httpsAgent,delete t.response.request),t}}traceHeaders(e){for(let[t,n]of Object.entries(e))this.trace(`${t}: ${null!=n?n:""}`)}traceContent(e){"object"==typeof e?this.trace(JSON.stringify(e,void 0,"  ")):"string"==typeof e&&this.trace(e)}}},9876:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0})},773:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.tunnelSdkUserAgent=void 0;const r=n(7898).version;t.tunnelSdkUserAgent=`Visual-Studio-Tunnel-Service-SDK/${r}`},7912:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AccessTokenBasisClient:()=>a,BasisClient:()=>i,BasisWebSocketFactory:()=>u,ConnectionManager:()=>ae,ServerConnectionBearer:()=>ce,TunnelNotFoundError:()=>c,TunnelNotFoundInSessionsError:()=>pe,getMatchingSessionForTunnel:()=>he,getMatchingSessionForTunnelName:()=>le,getTunnelNameFromTags:()=>ue});var r=n(3694),s=n(6318);class o{constructor(e){this.executor=e,this._didRun=!1}hasValue(){return this._didRun}getValue(){if(!this._didRun)try{this._value=this.executor()}catch(e){this._error=e}finally{this._didRun=!0}if(this._error)throw this._error;return this._value}get rawValue(){return this._value}map(e){return new o((()=>e(this.getValue())))}}class i{constructor(){this.managementClient=new o((()=>this.createTunnelManagementClient())),this.tunnelLookupCache=new Map,this.taggedTunnelLookupCache=new Map}getManagementClient(){return this.managementClient.getValue()}async connect(e){if(!e.endpoints){const t=await this.getTunnel(e);if(!t)throw new c;e=t}const{TunnelRelayTunnelClient:t}=await n.e(610).then(n.t.bind(n,1610,23)),r=new t;return r.acceptLocalConnectionsForForwardedPorts=!1,await r.connectClient(e,e.endpoints),r}async getTunnelForTag(e){if(this.taggedTunnelLookupCache.has(e))return this.taggedTunnelLookupCache.get(e);const t=await this.getManagementClient(),[n]=await t.listTunnels(void 0,void 0,{tags:[e,"vscode-server-launcher"],requireAllTags:!0});if(!n)return;const r=await this.getTunnel(n);return r&&this.taggedTunnelLookupCache.set(e,r),r}async getTunnel(e){const t=e.name||e.tunnelId;if(this.tunnelLookupCache.has(t))return this.tunnelLookupCache.get(t);try{const n=await this.getManagementClient(),r=await n.getTunnel(e,{includePorts:!0,scopes:["connect"],tokenScopes:["connect"]});return r&&this.tunnelLookupCache.set(t,r),r||void 0}catch(e){if(e instanceof Error&&e.message.includes("Not Found"))return;throw e}}}i.BASIS_SCOPES=[`${r.TunnelServiceProperties.production.serviceAppId}/.default`];class a extends i{constructor(e,t,n){super(),this.provider=e,this.userAgent=t,this.getAccessToken=n}async createTunnelManagementClient(){const e="microsoft"===this.provider?`Bearer ${await this.getAccessToken()}`:`github client_id=01ab8ac9400c4e429b23 ${await this.getAccessToken()}`;return new s.TunnelManagementHttpClient(this.userAgent,(async()=>e))}}class c extends Error{constructor(){super("Tunnel not found")}}class u{constructor(e){this.manager=e}create(e){return this.manager.getWebSocket(e)}}class l{constructor(){this.event=(e,t,n)=>{const r=this.add(t?e.bind(t):e);return n?.push(r),r}}get size(){return this.listeners?"function"==typeof this.listeners?1:this.listeners.length:0}fire(e){if(this.listeners)if("function"==typeof this.listeners)this.listeners(e);else for(const t of this.listeners)t(e)}dispose(){this.listeners=void 0}add(e){return this.listeners?"function"==typeof this.listeners?this.listeners=[this.listeners,e]:this.listeners.push(e):this.listeners=e,{dispose:()=>this.rm(e)}}rm(e){if(!this.listeners)return;if("function"==typeof this.listeners)return void(this.listeners===e&&(this.listeners=void 0));const t=this.listeners.indexOf(e);-1!==t&&(2===this.listeners.length?this.listeners=0===t?this.listeners[1]:this.listeners[0]:this.listeners=this.listeners.slice(0,t).concat(this.listeners.slice(t+1)))}}class h{constructor(e){this.options=e,this.dispose=[],this.onDataEmitter=new l,this.onData=this.onDataEmitter.event,this.onOpenEmitter=new l,this.onOpen=this.onOpenEmitter.event,this.onCloseEmitter=new l,this.onClose=this.onCloseEmitter.event,this.onErrorEmitter=new l,this.onError=this.onErrorEmitter.event}send(e){this.options.bearer.notify("servermsg",{i:this.options.socketId,body:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)})}close(){this.dispose.forEach((e=>e.dispose()))}onMessage(e){this.onDataEmitter.fire(e)}upgradeToWebSocketConnection(){}async initialize(){try{const{tunnel:e}=await this.options.bearer.acquire();await async function(e,t,n,r){let s=function(e,t,n){return{socket_id:t,commit_id:e.commit,quality:e.quality,telemetry_level:"off",extensions:n??[]}}(t,n,r),o=await e.call("serve",s);return{tunnel:o.tunnel,port:o.listening_port}}(this.options.bearer,this.options.product,this.options.socketId,this.options.extensions),this.dispose.push(this.options.bearer.onNotification("servermsg",(({i:e,body:t})=>{e===this.options.socketId&&this.onMessage(t)}))),this.upgradeToWebSocketConnection(),e.on("error",(e=>{this.onErrorEmitter.fire(new d(e)),this.onCloseEmitter.fire()})).on("close",(()=>{this.onCloseEmitter.fire()}))}catch(e){return void this.onErrorEmitter.fire(e)}}}class d extends Error{constructor(e){super(e.message),this.code="ECONNREFUSED",this.stack=e.stack}}class p extends h{constructor(e){super(e),this._options=e,this.onDataEmitter=new l,this.onData=this.onDataEmitter.event,this.onOpenEmitter=new l,this.onOpen=this.onOpenEmitter.event,this.onCloseEmitter=new l,this.onClose=this.onCloseEmitter.event,this.onErrorEmitter=new l,this.onError=this.onErrorEmitter.event,this.waitingForOpen=!0}onMessage(e){this.waitingForOpen?(this.onOpenEmitter.fire(),this.waitingForOpen=!1):this.onDataEmitter.fire(e)}async upgradeToWebSocketConnection(){const e=this._options.url.replace(/skipWebSocketFrames=false/gim,"skipWebSocketFrames=true");await this._options.bearer.notify("servermsg",{i:this._options.socketId,body:(new TextEncoder).encode(this.createHandshakeRequest(e))})}createHandshakeRequest(e){return[`GET ${e} HTTP/1.1`,"Connection: Upgrade","Upgrade: websocket",`Sec-WebSocket-Key: ${this.randomString(32)}`,"\r\n"].join("\r\n")}randomString(e=16){const t=new Uint32Array(e);return crypto.getRandomValues(t),t.toString()}}function f(e){return"".concat(e<0?"-":"","0x").concat(Math.abs(e).toString(16).padStart(2,"0"))}Error;var m,g=function(e,t){this.type=e,this.data=t},y=(m=function(e,t){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},m(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}m(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),v=function(e){function t(n){var r=e.call(this,n)||this,s=Object.create(t.prototype);return Object.setPrototypeOf(r,s),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:t.name}),r}return y(t,e),t}(Error),w=4294967295;function b(e,t,n){var r=Math.floor(n/4294967296),s=n;e.setUint32(t,r),e.setUint32(t+4,s)}function T(e,t){return 4294967296*e.getInt32(t)+e.getUint32(t+4)}var C,x,E,S={type:-1,encode:function(e){var t,n,r,s;return e instanceof Date?function(e){var t,n=e.sec,r=e.nsec;if(n>=0&&r>=0&&n<=17179869183){if(0===r&&n<=4294967295){var s=new Uint8Array(4);return(t=new DataView(s.buffer)).setUint32(0,n),s}var o=n/4294967296,i=4294967295&n;return s=new Uint8Array(8),(t=new DataView(s.buffer)).setUint32(0,r<<2|3&o),t.setUint32(4,i),s}return s=new Uint8Array(12),(t=new DataView(s.buffer)).setUint32(0,r),b(t,4,n),s}((r=1e6*((t=e.getTime())-1e3*(n=Math.floor(t/1e3))),{sec:n+(s=Math.floor(r/1e9)),nsec:r-1e9*s})):null},decode:function(e){var t=function(e){var t=new DataView(e.buffer,e.byteOffset,e.byteLength);switch(e.byteLength){case 4:return{sec:t.getUint32(0),nsec:0};case 8:var n=t.getUint32(0);return{sec:4294967296*(3&n)+t.getUint32(4),nsec:n>>>2};case 12:return{sec:T(t,4),nsec:t.getUint32(0)};default:throw new v("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(e.length))}}(e);return new Date(1e3*t.sec+t.nsec/1e6)}},A=function(){function e(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(S)}return e.prototype.register=function(e){var t=e.type,n=e.encode,r=e.decode;if(t>=0)this.encoders[t]=n,this.decoders[t]=r;else{var s=1+t;this.builtInEncoders[s]=n,this.builtInDecoders[s]=r}},e.prototype.tryToEncode=function(e,t){for(var n=0;n<this.builtInEncoders.length;n++)if(null!=(r=this.builtInEncoders[n])&&null!=(s=r(e,t)))return new g(-1-n,s);for(n=0;n<this.encoders.length;n++){var r,s;if(null!=(r=this.encoders[n])&&null!=(s=r(e,t)))return new g(n,s)}return e instanceof g?e:null},e.prototype.decode=function(e,t,n){var r=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return r?r(e,t,n):new g(t,e)},e.defaultCodec=new e,e}(),I=("undefined"==typeof process||"never"!==(null===(C=null===process||void 0===process?void 0:process.env)||void 0===C?void 0:C.TEXT_ENCODING))&&"undefined"!=typeof TextEncoder&&"undefined"!=typeof TextDecoder;function R(e){for(var t=e.length,n=0,r=0;r<t;){var s=e.charCodeAt(r++);if(0!=(4294967168&s))if(0==(4294965248&s))n+=2;else{if(s>=55296&&s<=56319&&r<t){var o=e.charCodeAt(r);56320==(64512&o)&&(++r,s=((1023&s)<<10)+(1023&o)+65536)}n+=0==(4294901760&s)?3:4}else n++}return n}var U=I?new TextEncoder:void 0,_=I?"undefined"!=typeof process&&"force"!==(null===(x=null===process||void 0===process?void 0:process.env)||void 0===x?void 0:x.TEXT_ENCODING)?200:0:w,O=(null==U?void 0:U.encodeInto)?function(e,t,n){U.encodeInto(e,t.subarray(n))}:function(e,t,n){t.set(U.encode(e),n)};function P(e,t,n){for(var r=t,s=r+n,o=[],i="";r<s;){var a=e[r++];if(0==(128&a))o.push(a);else if(192==(224&a)){var c=63&e[r++];o.push((31&a)<<6|c)}else if(224==(240&a)){c=63&e[r++];var u=63&e[r++];o.push((31&a)<<12|c<<6|u)}else if(240==(248&a)){var l=(7&a)<<18|(c=63&e[r++])<<12|(u=63&e[r++])<<6|63&e[r++];l>65535&&(l-=65536,o.push(l>>>10&1023|55296),l=56320|1023&l),o.push(l)}else o.push(a);o.length>=4096&&(i+=String.fromCharCode.apply(String,o),o.length=0)}return o.length>0&&(i+=String.fromCharCode.apply(String,o)),i}var k=I?new TextDecoder:null,F=I?"undefined"!=typeof process&&"force"!==(null===(E=null===process||void 0===process?void 0:process.env)||void 0===E?void 0:E.TEXT_DECODER)?200:0:w;function j(e){return e instanceof Uint8Array?e:ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e instanceof ArrayBuffer?new Uint8Array(e):Uint8Array.from(e)}var N=function(){function e(e,t){void 0===e&&(e=16),void 0===t&&(t=16),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var n=0;n<this.maxKeyLength;n++)this.caches.push([])}return e.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},e.prototype.find=function(e,t,n){e:for(var r=0,s=this.caches[n-1];r<s.length;r++){for(var o=s[r],i=o.bytes,a=0;a<n;a++)if(i[a]!==e[t+a])continue e;return o.str}return null},e.prototype.store=function(e,t){var n=this.caches[e.length-1],r={bytes:e,str:t};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=r:n.push(r)},e.prototype.decode=function(e,t,n){var r=this.find(e,t,n);if(null!=r)return this.hit++,r;this.miss++;var s=P(e,t,n),o=Uint8Array.prototype.slice.call(e,t,t+n);return this.store(o,s),s},e}(),B=function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&o[0]?r.return:o[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){i.label=o[1];break}if(6===o[0]&&i.label<s[1]){i.label=s[1],s=o;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(o);break}s[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},q=function(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,n=e[Symbol.asyncIterator];return n?n.call(e):(e="function"==typeof __values?__values(e):e[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=e[n]&&function(t){return new Promise((function(r,s){!function(e,t,n,r){Promise.resolve(r).then((function(t){e({value:t,done:n})}),t)}(r,s,(t=e[n](t)).done,t.value)}))}}},M=function(e){return this instanceof M?(this.v=e,this):new M(e)},D=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=n.apply(e,t||[]),o=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){s[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=s[e](t)).value instanceof M?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}},L=new DataView(new ArrayBuffer(0)),H=new Uint8Array(L.buffer),$=function(){try{L.getInt8(0)}catch(e){return e.constructor}throw new Error("never reached")}(),z=new $("Insufficient data"),W=new N,G=function(){function e(e,t,n,r,s,o,i,a){void 0===e&&(e=A.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=w),void 0===r&&(r=w),void 0===s&&(s=w),void 0===o&&(o=w),void 0===i&&(i=w),void 0===a&&(a=W),this.extensionCodec=e,this.context=t,this.maxStrLength=n,this.maxBinLength=r,this.maxArrayLength=s,this.maxMapLength=o,this.maxExtLength=i,this.keyDecoder=a,this.totalPos=0,this.pos=0,this.view=L,this.bytes=H,this.headByte=-1,this.stack=[]}return e.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=-1,this.stack.length=0},e.prototype.setBuffer=function(e){this.bytes=j(e),this.view=function(e){if(e instanceof ArrayBuffer)return new DataView(e);var t=j(e);return new DataView(t.buffer,t.byteOffset,t.byteLength)}(this.bytes),this.pos=0},e.prototype.appendBuffer=function(e){if(-1!==this.headByte||this.hasRemaining(1)){var t=this.bytes.subarray(this.pos),n=j(e),r=new Uint8Array(t.length+n.length);r.set(t),r.set(n,t.length),this.setBuffer(r)}else this.setBuffer(e)},e.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},e.prototype.createExtraByteError=function(e){var t=this.view,n=this.pos;return new RangeError("Extra ".concat(t.byteLength-n," of ").concat(t.byteLength," byte(s) found at buffer[").concat(e,"]"))},e.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},e.prototype.decodeMulti=function(e){return B(this,(function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}}))},e.prototype.decodeAsync=function(e){var t,n,r,s,o,i,a,c;return o=this,i=void 0,c=function(){var o,i,a,c,u,l,h,d;return B(this,(function(p){switch(p.label){case 0:o=!1,p.label=1;case 1:p.trys.push([1,6,7,12]),t=q(e),p.label=2;case 2:return[4,t.next()];case 3:if((n=p.sent()).done)return[3,5];if(a=n.value,o)throw this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{i=this.doDecodeSync(),o=!0}catch(e){if(!(e instanceof $))throw e}this.totalPos+=this.pos,p.label=4;case 4:return[3,2];case 5:return[3,12];case 6:return c=p.sent(),r={error:c},[3,12];case 7:return p.trys.push([7,,10,11]),n&&!n.done&&(s=t.return)?[4,s.call(t)]:[3,9];case 8:p.sent(),p.label=9;case 9:return[3,11];case 10:if(r)throw r.error;return[7];case 11:return[7];case 12:if(o){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,i]}throw l=(u=this).headByte,h=u.pos,d=u.totalPos,new RangeError("Insufficient data in parsing ".concat(f(l)," at ").concat(d," (").concat(h," in the current buffer)"))}}))},new((a=void 0)||(a=Promise))((function(e,t){function n(e){try{s(c.next(e))}catch(e){t(e)}}function r(e){try{s(c.throw(e))}catch(e){t(e)}}function s(t){var s;t.done?e(t.value):(s=t.value,s instanceof a?s:new a((function(e){e(s)}))).then(n,r)}s((c=c.apply(o,i||[])).next())}))},e.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},e.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},e.prototype.decodeMultiAsync=function(e,t){return D(this,arguments,(function(){var n,r,s,o,i,a,c,u,l;return B(this,(function(h){switch(h.label){case 0:n=t,r=-1,h.label=1;case 1:h.trys.push([1,13,14,19]),s=q(e),h.label=2;case 2:return[4,M(s.next())];case 3:if((o=h.sent()).done)return[3,12];if(i=o.value,t&&0===r)throw this.createExtraByteError(this.totalPos);this.appendBuffer(i),n&&(r=this.readArraySize(),n=!1,this.complete()),h.label=4;case 4:h.trys.push([4,9,,10]),h.label=5;case 5:return[4,M(this.doDecodeSync())];case 6:return[4,h.sent()];case 7:return h.sent(),0==--r?[3,8]:[3,5];case 8:return[3,10];case 9:if(!((a=h.sent())instanceof $))throw a;return[3,10];case 10:this.totalPos+=this.pos,h.label=11;case 11:return[3,2];case 12:return[3,19];case 13:return c=h.sent(),u={error:c},[3,19];case 14:return h.trys.push([14,,17,18]),o&&!o.done&&(l=s.return)?[4,M(l.call(s))]:[3,16];case 15:h.sent(),h.label=16;case 16:return[3,18];case 17:if(u)throw u.error;return[7];case 18:return[7];case 19:return[2]}}))}))},e.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=e-256;else if(e<192)if(e<128)t=e;else if(e<144){if(0!=(r=e-128)){this.pushMapState(r),this.complete();continue e}t={}}else if(e<160){if(0!=(r=e-144)){this.pushArrayState(r),this.complete();continue e}t=[]}else{var n=e-160;t=this.decodeUtf8String(n,0)}else if(192===e)t=null;else if(194===e)t=!1;else if(195===e)t=!0;else if(202===e)t=this.readF32();else if(203===e)t=this.readF64();else if(204===e)t=this.readU8();else if(205===e)t=this.readU16();else if(206===e)t=this.readU32();else if(207===e)t=this.readU64();else if(208===e)t=this.readI8();else if(209===e)t=this.readI16();else if(210===e)t=this.readI32();else if(211===e)t=this.readI64();else if(217===e)n=this.lookU8(),t=this.decodeUtf8String(n,1);else if(218===e)n=this.lookU16(),t=this.decodeUtf8String(n,2);else if(219===e)n=this.lookU32(),t=this.decodeUtf8String(n,4);else if(220===e){if(0!==(r=this.readU16())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(221===e){if(0!==(r=this.readU32())){this.pushArrayState(r),this.complete();continue e}t=[]}else if(222===e){if(0!==(r=this.readU16())){this.pushMapState(r),this.complete();continue e}t={}}else if(223===e){if(0!==(r=this.readU32())){this.pushMapState(r),this.complete();continue e}t={}}else if(196===e){var r=this.lookU8();t=this.decodeBinary(r,1)}else if(197===e)r=this.lookU16(),t=this.decodeBinary(r,2);else if(198===e)r=this.lookU32(),t=this.decodeBinary(r,4);else if(212===e)t=this.decodeExtension(1,0);else if(213===e)t=this.decodeExtension(2,0);else if(214===e)t=this.decodeExtension(4,0);else if(215===e)t=this.decodeExtension(8,0);else if(216===e)t=this.decodeExtension(16,0);else if(199===e)r=this.lookU8(),t=this.decodeExtension(r,1);else if(200===e)r=this.lookU16(),t=this.decodeExtension(r,2);else{if(201!==e)throw new v("Unrecognized type byte: ".concat(f(e)));r=this.lookU32(),t=this.decodeExtension(r,4)}this.complete();for(var s=this.stack;s.length>0;){var o=s[s.length-1];if(0===o.type){if(o.array[o.position]=t,o.position++,o.position!==o.size)continue e;s.pop(),t=o.array}else{if(1===o.type){if(void 0,"string"!=(i=typeof t)&&"number"!==i)throw new v("The type of key must be string or number but "+typeof t);if("__proto__"===t)throw new v("The key __proto__ is not allowed");o.key=t,o.type=2;continue e}if(o.map[o.key]=t,o.readCount++,o.readCount!==o.size){o.key=null,o.type=1;continue e}s.pop(),t=o.map}}return t}var i},e.prototype.readHeadByte=function(){return-1===this.headByte&&(this.headByte=this.readU8()),this.headByte},e.prototype.complete=function(){this.headByte=-1},e.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:if(e<160)return e-144;throw new v("Unrecognized array type byte: ".concat(f(e)))}},e.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new v("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.push({type:1,size:e,key:null,readCount:0,map:{}})},e.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new v("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.push({type:0,size:e,array:new Array(e),position:0})},e.prototype.decodeUtf8String=function(e,t){var n;if(e>this.maxStrLength)throw new v("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw z;var r,s=this.pos+t;return r=this.stateIsMapKey()&&(null===(n=this.keyDecoder)||void 0===n?void 0:n.canBeCached(e))?this.keyDecoder.decode(this.bytes,s,e):e>F?function(e,t,n){var r=e.subarray(t,t+n);return k.decode(r)}(this.bytes,s,e):P(this.bytes,s,e),this.pos+=t+e,r},e.prototype.stateIsMapKey=function(){return this.stack.length>0&&1===this.stack[this.stack.length-1].type},e.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new v("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw z;var n=this.pos+t,r=this.bytes.subarray(n,n+e);return this.pos+=t+e,r},e.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new v("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var n=this.view.getInt8(this.pos+t),r=this.decodeBinary(e,t+1);return this.extensionCodec.decode(r,n,this.context)},e.prototype.lookU8=function(){return this.view.getUint8(this.pos)},e.prototype.lookU16=function(){return this.view.getUint16(this.pos)},e.prototype.lookU32=function(){return this.view.getUint32(this.pos)},e.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},e.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},e.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},e.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},e.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},e.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},e.prototype.readU64=function(){var e,t,n=(e=this.view,t=this.pos,4294967296*e.getUint32(t)+e.getUint32(t+4));return this.pos+=8,n},e.prototype.readI64=function(){var e=T(this.view,this.pos);return this.pos+=8,e},e.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},e.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},e}(),V=function(e,t){var n,r,s,o,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&o[0]?r.return:o[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,o[1])).done)return s;switch(r=0,s&&(o=[2&o[0],s.value]),o[0]){case 0:case 1:s=o;break;case 4:return i.label++,{value:o[1],done:!1};case 5:i.label++,r=o[1],o=[0];continue;case 7:o=i.ops.pop(),i.trys.pop();continue;default:if(!((s=(s=i.trys).length>0&&s[s.length-1])||6!==o[0]&&2!==o[0])){i=0;continue}if(3===o[0]&&(!s||o[1]>s[0]&&o[1]<s[3])){i.label=o[1];break}if(6===o[0]&&i.label<s[1]){i.label=s[1],s=o;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(o);break}s[2]&&i.ops.pop(),i.trys.pop();continue}o=t.call(e,i)}catch(e){o=[6,e],r=0}finally{n=s=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}},K=function(e){return this instanceof K?(this.v=e,this):new K(e)},J=function(e,t,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,s=n.apply(e,t||[]),o=[];return r={},i("next"),i("throw"),i("return"),r[Symbol.asyncIterator]=function(){return this},r;function i(e){s[e]&&(r[e]=function(t){return new Promise((function(n,r){o.push([e,t,n,r])>1||a(e,t)}))})}function a(e,t){try{(n=s[e](t)).value instanceof K?Promise.resolve(n.value.v).then(c,u):l(o[0][2],n)}catch(e){l(o[0][3],e)}var n}function c(e){a("next",e)}function u(e){a("throw",e)}function l(e,t){e(t),o.shift(),o.length&&a(o[0][0],o[0][1])}};function X(e){if(null==e)throw new Error("Assertion Failure: value must not be null nor undefined")}var Y={};function Z(e,t){void 0===t&&(t=Y);var n=function(e){return null!=e[Symbol.asyncIterator]?e:function(e){return J(this,arguments,(function(){var t,n,r,s;return V(this,(function(o){switch(o.label){case 0:t=e.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,K(t.read())];case 3:return n=o.sent(),r=n.done,s=n.value,r?[4,K(void 0)]:[3,5];case 4:return[2,o.sent()];case 5:return X(s),[4,K(s)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return t.releaseLock(),[7];case 10:return[2]}}))}))}(e)}(e);return new G(t.extensionCodec,t.context,t.maxStrLength,t.maxBinLength,t.maxArrayLength,t.maxMapLength,t.maxExtLength).decodeStream(n)}var Q=function(){function e(e,t,n,r,s,o,i,a){void 0===e&&(e=A.defaultCodec),void 0===t&&(t=void 0),void 0===n&&(n=100),void 0===r&&(r=2048),void 0===s&&(s=!1),void 0===o&&(o=!1),void 0===i&&(i=!1),void 0===a&&(a=!1),this.extensionCodec=e,this.context=t,this.maxDepth=n,this.initialBufferSize=r,this.sortKeys=s,this.forceFloat32=o,this.ignoreUndefined=i,this.forceIntegerToFloat=a,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return e.prototype.getUint8Array=function(){return this.bytes.subarray(0,this.pos)},e.prototype.reinitializeState=function(){this.pos=0},e.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.getUint8Array()},e.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));null==e?this.encodeNil():"boolean"==typeof e?this.encodeBoolean(e):"number"==typeof e?this.encodeNumber(e):"string"==typeof e?this.encodeString(e):this.encodeObject(e,t)},e.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(2*t)},e.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),n=new Uint8Array(t),r=new DataView(t);n.set(this.bytes),this.view=r,this.bytes=n},e.prototype.encodeNil=function(){this.writeU8(192)},e.prototype.encodeBoolean=function(e){!1===e?this.writeU8(194):this.writeU8(195)},e.prototype.encodeNumber=function(e){Number.isSafeInteger(e)&&!this.forceIntegerToFloat?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},e.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else{if(!(e<4294967296))throw new Error("Too long string: ".concat(e," bytes in UTF-8"));this.writeU8(219),this.writeU32(e)}},e.prototype.encodeString=function(e){if(e.length>_){var t=R(e);this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),O(e,this.bytes,this.pos),this.pos+=t}else t=R(e),this.ensureBufferSizeToWrite(5+t),this.writeStringHeader(t),function(e,t,n){for(var r=e.length,s=n,o=0;o<r;){var i=e.charCodeAt(o++);if(0!=(4294967168&i)){if(0==(4294965248&i))t[s++]=i>>6&31|192;else{if(i>=55296&&i<=56319&&o<r){var a=e.charCodeAt(o);56320==(64512&a)&&(++o,i=((1023&i)<<10)+(1023&a)+65536)}0==(4294901760&i)?(t[s++]=i>>12&15|224,t[s++]=i>>6&63|128):(t[s++]=i>>18&7|240,t[s++]=i>>12&63|128,t[s++]=i>>6&63|128)}t[s++]=63&i|128}else t[s++]=i}}(e,this.bytes,this.pos),this.pos+=t},e.prototype.encodeObject=function(e,t){var n=this.extensionCodec.tryToEncode(e,this.context);if(null!=n)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else{if("object"!=typeof e)throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)));this.encodeMap(e,t)}},e.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large binary: ".concat(t));this.writeU8(198),this.writeU32(t)}var n=j(e);this.writeU8a(n)},e.prototype.encodeArray=function(e,t){var n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else{if(!(n<4294967296))throw new Error("Too large array: ".concat(n));this.writeU8(221),this.writeU32(n)}for(var r=0,s=e;r<s.length;r++){var o=s[r];this.doEncode(o,t+1)}},e.prototype.countWithoutUndefined=function(e,t){for(var n=0,r=0,s=t;r<s.length;r++)void 0!==e[s[r]]&&n++;return n},e.prototype.encodeMap=function(e,t){var n=Object.keys(e);this.sortKeys&&n.sort();var r=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(r<16)this.writeU8(128+r);else if(r<65536)this.writeU8(222),this.writeU16(r);else{if(!(r<4294967296))throw new Error("Too large map object: ".concat(r));this.writeU8(223),this.writeU32(r)}for(var s=0,o=n;s<o.length;s++){var i=o[s],a=e[i];this.ignoreUndefined&&void 0===a||(this.encodeString(i),this.doEncode(a,t+1))}},e.prototype.encodeExtension=function(e){var t=e.data.length;if(1===t)this.writeU8(212);else if(2===t)this.writeU8(213);else if(4===t)this.writeU8(214);else if(8===t)this.writeU8(215);else if(16===t)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else{if(!(t<4294967296))throw new Error("Too large extension object: ".concat(t));this.writeU8(201),this.writeU32(t)}this.writeI8(e.type),this.writeU8a(e.data)},e.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},e.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},e.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},e.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},e.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},e.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},e.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},e.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},e.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},e.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),function(e,t,n){var r=n/4294967296,s=n;e.setUint32(t,r),e.setUint32(t+4,s)}(this.view,this.pos,e),this.pos+=8},e.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),b(this.view,this.pos,e),this.pos+=8},e}(),ee={};function te(e,t){return void 0===t&&(t=ee),new Q(t.extensionCodec,t.context,t.maxDepth,t.initialBufferSize,t.sortKeys,t.forceFloat32,t.ignoreUndefined,t.forceIntegerToFloat).encode(e)}let ne=0;class re extends Error{constructor(e,t){super(`json rpc error ${e}: message`),this.code=e,this.message=t}}class se{constructor(e){this.callbacks=new Map,this.callHandlers=new Map,this.startEmitter=new l,this.onStartConnecting=this.startEmitter.event,this.notifyEmitter=new l,this.closeEmitter=new l,this.onClose=this.closeEmitter.event,this.BEARER_TYPE=e}async acquire(){return this.streamPromise??(this.streamPromise=this.acquireNow()),this.streamPromise}async close(){this.streamPromise?.then((e=>e.tunnel.end())),this.streamPromise=void 0}async call(e,t){const{tunnel:n}=await this.acquire(),r=ne++;return new Promise(((s,o)=>{this.callbacks.set(r,{resolve:e=>{"error"in e?o(new re(e.error?.code,e.error?.message)):s(e.result)},reject:o}),this.encodeToTunnel(n,{id:r,method:e,params:t})})).finally((()=>this.callbacks.delete(r)))}async registerRequestHandler(e,t){this.callHandlers.has(e)&&console.warn("Overriding previous handler for method: ",e),this.callHandlers.set(e,t)}async handleRequest(e){const{tunnel:t}=await this.acquire();if(!this.callHandlers.has(e.method)){const n={id:e.id,error:{message:"Unknown method. Cannot resolve request",code:36}};return void this.encodeToTunnel(t,n)}const n=this.callHandlers.get(e.method),r=await n(e.params),s={id:e.id,result:r};this.encodeToTunnel(t,s)}onNotification(e,t){return this.notifyEmitter.event((n=>{n.method===e&&t(n.params)}))}async notify(e,t){const{tunnel:n}=await this.acquire();this.encodeToTunnel(n,{method:e,params:t})}async getConnectionTunnel(){throw new Error("Not implemented")}async acquireNow(){const e=await this.getConnectionTunnel();return this.startEmitter.fire(),(async()=>{for await(const t of Z(e)){const e=t;"result"in e||"error"in e?this.callbacks.get(e.id)?.resolve(e):"id"in e&&"number"==typeof e.id?this.handleRequest(e):this.notifyEmitter.fire(e)}})(),e.on("close",(()=>{this.rejectAllCalls(new re(0,`${this.BEARER_TYPE}: Connection closed`)),this.closeEmitter.fire(void 0),this.streamPromise=void 0})),e.on("error",(e=>{const t=new re(0,e.message);this.rejectAllCalls(t),this.closeEmitter.fire(t),this.streamPromise=void 0})),{tunnel:e}}rejectAllCalls(e){for(const{reject:t}of this.callbacks.values())t(e);this.callbacks.clear()}encodeToTunnel(e,t){const n=te(t),r=new Uint8Array(4+n.length);new DataView(r.buffer).setUint32(0,n.length),r.set(n,4),e.write(r)}}class oe{constructor(){this.rejected=!1,this.resolved=!1,this.p=new Promise(((e,t)=>{this.completeCallback=e,this.errorCallback=t}))}get isRejected(){return this.rejected}get isResolved(){return this.resolved}get isSettled(){return this.rejected||this.resolved}complete(e){this.completeCallback(e),this.resolved=!0}error(e){this.errorCallback(e),this.rejected=!0}}class ie extends se{constructor(e,t,n){super("Port Forwarding Service"),this.basis=e,this.tunnel=t,this.port=n,this.versionPromise=new oe,this.version=this.versionPromise.p,this.onNotification("version",(({version:e})=>{this.versionPromise.complete(e)}))}async call(e,t){return await super.call(e,t)}onNotification(e,t){return super.onNotification(e,t)}async notify(e,t){return await super.notify(e,t)}async getConnectionTunnel(){const e=await this.basis.connect(this.tunnel);return await e.waitForForwardedPort(this.port),await e.connectToForwardedPort(this.port)}}class ae{constructor(e){this.options=e,this.socketId=0,this.connectedEmitter=new l,this.onConnected=this.connectedEmitter.event,this.logEmitter=new l,this.onLog=this.logEmitter.event,this.loopbackHandler=async e=>{try{const t=await this.bearer.call("callserverhttp",{path:"/vscode-remote-resource?"+new URLSearchParams({path:e.uri.path}),method:e.method,headers:e.headers}),n=new ArrayBuffer(t.body.length);return new Uint8Array(n).set(t.body),{status:t.status,body:n,headers:t.headers}}catch(e){return{status:500,headers:{},body:(new TextEncoder).encode(e.message).buffer}}},this.bearer=new ie(e.basis,e.tunnel,e.port),this.onStartConnecting=this.bearer.onStartConnecting,this.onClose=this.bearer.onClose,this.bearer.onNotification("serverlog",(e=>{this.logEmitter.fire(e)}));let t=!0;this.bearer.onNotification("servermsg",(()=>{t&&(this.connectedEmitter.fire(),t=!1)}))}get tunnel(){return this.options.tunnel}getWebSocket(e){let t=new p({socketId:this.socketId++,url:e,bearer:this.bearer,product:this.options.productInfo,extensions:this.options.installExtensionsOnRemote});return t.initialize(),t}async getServerWebSocket(){let e=new h({socketId:this.socketId++,bearer:this.bearer,product:this.options.productInfo,extensions:this.options.installExtensionsOnRemote});return await e.initialize(),e}checkForUpdates(e){return this.bearer.call("update",{do_update:e?.doUpdate??!1})}getHostname(){return this.bearer.call("gethostname",{}).then((e=>e.value))}}class ce extends se{constructor(e){super("Local Proxy Server"),this.socket=e,this.acquire()}async call(e,t){return await super.call(e,t)}registerRequestHandler(e,t){return super.registerRequestHandler(e,t)}onNotification(e,t){return super.onNotification(e,t)}async notify(e,t){return await super.notify(e,t)}async getConnectionTunnel(){return this.socket}encodeToTunnel(e,t){e.write(te(t))}}function ue(e){if(e.tags?.includes("vscode-server-launcher"))return 2===e.tags?.length?e.tags.find((e=>"vscode-server-launcher"!==e)):e.name||e.tunnelId}async function le({userAgent:e,name:t,sessions:n}){const r=await de({lookup:t,userAgent:e,getTunnel:async(e,t)=>e.getTunnelForTag(t),lookupToString:e=>e,sessions:n});return void 0!==r?r:he({userAgent:e,sessions:n,tunnel:{name:t}})}async function he({userAgent:e,tunnel:t,sessions:n}){return de({lookup:t,userAgent:e,getTunnel:async(e,t)=>e.getTunnel(t),lookupToString:e=>e.name||e.tunnelId,sessions:n})}async function de({lookup:e,userAgent:t,getTunnel:n,lookupToString:r,sessions:s}){const o=`tunneling-${t}-auth-attempted`,i=`tunneling-${t}-session-${r(e)}`,c=localStorage.getItem(i);if(c){const r=s.find((e=>e.id===c));if(r){const s=new a(r.provider,t,(()=>r.getAccessToken()));try{const t=await n(s,e);if(t)return console.log("Reusing session from localStorage"),localStorage.removeItem(o),{client:s,session:r,tunnel:t};localStorage.removeItem(i)}catch(e){console.error(e)}}}const u=await(l=s.map((async r=>{if(r.id===c)return;const s=new a(r.provider,t,(()=>r.getAccessToken()));try{const t=await n(s,e);if(t)return{client:s,session:r,tunnel:t}}catch(e){console.error(e)}})),new Promise(((e,t)=>{let n=l.length;for(const r of l)r.then((t=>{n--,void 0===t&&0!==n||(e(t),n=-1)})).catch(t)})));var l;if(u)return localStorage.setItem(i,u.session.id),localStorage.removeItem(o),u;if(localStorage.getItem(o))throw localStorage.removeItem(o),new pe(r(e));localStorage.setItem(o,"1")}class pe extends Error{constructor(e){super(`Could not successfully authenticate into account that has access to ${e}. Please make sure you are logged into the correct account. You can reload and try again.`),this.tunnelIdentifier=e}}},9669:(e,t,n)=>{e.exports=n(1609)},7970:(e,t,n)=>{"use strict";var r=n(4867),s=n(6026),o=n(4097),i=n(5327),a=n(3685),c=n(5687),u=n(938).http,l=n(938).https,h=n(7310),d=n(9796),p=n(8593),f=n(5061),m=n(481),g=/https:?/;function y(e,t,n){if(e.hostname=t.host,e.host=t.host,e.port=t.port,e.path=n,t.auth){var r=Buffer.from(t.auth.username+":"+t.auth.password,"utf8").toString("base64");e.headers["Proxy-Authorization"]="Basic "+r}e.beforeRedirect=function(e){e.headers.host=e.host,y(e,t,e.href)}}e.exports=function(e){return new Promise((function(t,n){var v=function(e){t(e)},w=function(e){n(e)},b=e.data,T=e.headers;if("User-Agent"in T||"user-agent"in T?T["User-Agent"]||T["user-agent"]||(delete T["User-Agent"],delete T["user-agent"]):T["User-Agent"]="axios/"+p.version,b&&!r.isStream(b)){if(Buffer.isBuffer(b));else if(r.isArrayBuffer(b))b=Buffer.from(new Uint8Array(b));else{if(!r.isString(b))return w(f("Data after transformation must be a string, an ArrayBuffer, a Buffer, or a Stream",e));b=Buffer.from(b,"utf-8")}T["Content-Length"]=b.length}var C=void 0;e.auth&&(C=(e.auth.username||"")+":"+(e.auth.password||""));var x=o(e.baseURL,e.url),E=h.parse(x),S=E.protocol||"http:";if(!C&&E.auth){var A=E.auth.split(":");C=(A[0]||"")+":"+(A[1]||"")}C&&delete T.Authorization;var I=g.test(S),R=I?e.httpsAgent:e.httpAgent,U={path:i(E.path,e.params,e.paramsSerializer).replace(/^\?/,""),method:e.method.toUpperCase(),headers:T,agent:R,agents:{http:e.httpAgent,https:e.httpsAgent},auth:C};e.socketPath?U.socketPath=e.socketPath:(U.hostname=E.hostname,U.port=E.port);var _,O=e.proxy;if(!O&&!1!==O){var P=S.slice(0,-1)+"_proxy",k=process.env[P]||process.env[P.toUpperCase()];if(k){var F=h.parse(k),j=process.env.no_proxy||process.env.NO_PROXY,N=!0;if(j&&(N=!j.split(",").map((function(e){return e.trim()})).some((function(e){return!!e&&("*"===e||"."===e[0]&&E.hostname.substr(E.hostname.length-e.length)===e||E.hostname===e)}))),N&&(O={host:F.hostname,port:F.port,protocol:F.protocol},F.auth)){var B=F.auth.split(":");O.auth={username:B[0],password:B[1]}}}}O&&(U.headers.host=E.hostname+(E.port?":"+E.port:""),y(U,O,S+"//"+E.hostname+(E.port?":"+E.port:"")+U.path));var q=I&&(!O||g.test(O.protocol));e.transport?_=e.transport:0===e.maxRedirects?_=q?c:a:(e.maxRedirects&&(U.maxRedirects=e.maxRedirects),_=q?l:u),e.maxBodyLength>-1&&(U.maxBodyLength=e.maxBodyLength);var M=_.request(U,(function(t){if(!M.aborted){var n=t,o=t.req||M;if(204!==t.statusCode&&"HEAD"!==o.method&&!1!==e.decompress)switch(t.headers["content-encoding"]){case"gzip":case"compress":case"deflate":n=n.pipe(d.createUnzip()),delete t.headers["content-encoding"]}var i={status:t.statusCode,statusText:t.statusMessage,headers:t.headers,config:e,request:o};if("stream"===e.responseType)i.data=n,s(v,w,i);else{var a=[],c=0;n.on("data",(function(t){a.push(t),c+=t.length,e.maxContentLength>-1&&c>e.maxContentLength&&(n.destroy(),w(f("maxContentLength size of "+e.maxContentLength+" exceeded",e,null,o)))})),n.on("error",(function(t){M.aborted||w(m(t,e,null,o))})),n.on("end",(function(){var t=Buffer.concat(a);"arraybuffer"!==e.responseType&&(t=t.toString(e.responseEncoding),e.responseEncoding&&"utf8"!==e.responseEncoding||(t=r.stripBOM(t))),i.data=t,s(v,w,i)}))}}}));if(M.on("error",(function(t){M.aborted&&"ERR_FR_TOO_MANY_REDIRECTS"!==t.code||w(m(t,e,null,M))})),e.timeout){var D=parseInt(e.timeout,10);if(isNaN(D))return void w(f("error trying to parse `config.timeout` to int",e,"ERR_PARSE_TIMEOUT",M));M.setTimeout(D,(function(){M.abort(),w(f("timeout of "+D+"ms exceeded",e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",M))}))}e.cancelToken&&e.cancelToken.promise.then((function(e){M.aborted||(M.abort(),w(e))})),r.isStream(b)?b.on("error",(function(t){w(m(t,e,null,M))})).pipe(M):M.end(b)}))}},5448:(e,t,n)=>{"use strict";var r=n(4867),s=n(6026),o=n(4372),i=n(5327),a=n(4097),c=n(4109),u=n(7985),l=n(5061);e.exports=function(e){return new Promise((function(t,n){var h=e.data,d=e.headers,p=e.responseType;r.isFormData(h)&&delete d["Content-Type"];var f=new XMLHttpRequest;if(e.auth){var m=e.auth.username||"",g=e.auth.password?unescape(encodeURIComponent(e.auth.password)):"";d.Authorization="Basic "+btoa(m+":"+g)}var y=a(e.baseURL,e.url);function v(){if(f){var r="getAllResponseHeaders"in f?c(f.getAllResponseHeaders()):null,o={data:p&&"text"!==p&&"json"!==p?f.response:f.responseText,status:f.status,statusText:f.statusText,headers:r,config:e,request:f};s(t,n,o),f=null}}if(f.open(e.method.toUpperCase(),i(y,e.params,e.paramsSerializer),!0),f.timeout=e.timeout,"onloadend"in f?f.onloadend=v:f.onreadystatechange=function(){f&&4===f.readyState&&(0!==f.status||f.responseURL&&0===f.responseURL.indexOf("file:"))&&setTimeout(v)},f.onabort=function(){f&&(n(l("Request aborted",e,"ECONNABORTED",f)),f=null)},f.onerror=function(){n(l("Network Error",e,null,f)),f=null},f.ontimeout=function(){var t="timeout of "+e.timeout+"ms exceeded";e.timeoutErrorMessage&&(t=e.timeoutErrorMessage),n(l(t,e,e.transitional&&e.transitional.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",f)),f=null},r.isStandardBrowserEnv()){var w=(e.withCredentials||u(y))&&e.xsrfCookieName?o.read(e.xsrfCookieName):void 0;w&&(d[e.xsrfHeaderName]=w)}"setRequestHeader"in f&&r.forEach(d,(function(e,t){void 0===h&&"content-type"===t.toLowerCase()?delete d[t]:f.setRequestHeader(t,e)})),r.isUndefined(e.withCredentials)||(f.withCredentials=!!e.withCredentials),p&&"json"!==p&&(f.responseType=e.responseType),"function"==typeof e.onDownloadProgress&&f.addEventListener("progress",e.onDownloadProgress),"function"==typeof e.onUploadProgress&&f.upload&&f.upload.addEventListener("progress",e.onUploadProgress),e.cancelToken&&e.cancelToken.promise.then((function(e){f&&(f.abort(),n(e),f=null)})),h||(h=null),f.send(h)}))}},1609:(e,t,n)=>{"use strict";var r=n(4867),s=n(1849),o=n(321),i=n(7185);function a(e){var t=new o(e),n=s(o.prototype.request,t);return r.extend(n,o.prototype,t),r.extend(n,t),n}var c=a(n(5655));c.Axios=o,c.create=function(e){return a(i(c.defaults,e))},c.Cancel=n(5263),c.CancelToken=n(4972),c.isCancel=n(6502),c.all=function(e){return Promise.all(e)},c.spread=n(8713),c.isAxiosError=n(6268),e.exports=c,e.exports.default=c},5263:e=>{"use strict";function t(e){this.message=e}t.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},t.prototype.__CANCEL__=!0,e.exports=t},4972:(e,t,n)=>{"use strict";var r=n(5263);function s(e){if("function"!=typeof e)throw new TypeError("executor must be a function.");var t;this.promise=new Promise((function(e){t=e}));var n=this;e((function(e){n.reason||(n.reason=new r(e),t(n.reason))}))}s.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},s.source=function(){var e;return{token:new s((function(t){e=t})),cancel:e}},e.exports=s},6502:e=>{"use strict";e.exports=function(e){return!(!e||!e.__CANCEL__)}},321:(e,t,n)=>{"use strict";var r=n(4867),s=n(5327),o=n(782),i=n(3572),a=n(7185),c=n(4875),u=c.validators;function l(e){this.defaults=e,this.interceptors={request:new o,response:new o}}l.prototype.request=function(e){"string"==typeof e?(e=arguments[1]||{}).url=arguments[0]:e=e||{},(e=a(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var t=e.transitional;void 0!==t&&c.assertOptions(t,{silentJSONParsing:u.transitional(u.boolean,"1.0.0"),forcedJSONParsing:u.transitional(u.boolean,"1.0.0"),clarifyTimeoutError:u.transitional(u.boolean,"1.0.0")},!1);var n=[],r=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(r=r&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var s,o=[];if(this.interceptors.response.forEach((function(e){o.push(e.fulfilled,e.rejected)})),!r){var l=[i,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(o),s=Promise.resolve(e);l.length;)s=s.then(l.shift(),l.shift());return s}for(var h=e;n.length;){var d=n.shift(),p=n.shift();try{h=d(h)}catch(e){p(e);break}}try{s=i(h)}catch(e){return Promise.reject(e)}for(;o.length;)s=s.then(o.shift(),o.shift());return s},l.prototype.getUri=function(e){return e=a(this.defaults,e),s(e.url,e.params,e.paramsSerializer).replace(/^\?/,"")},r.forEach(["delete","get","head","options"],(function(e){l.prototype[e]=function(t,n){return this.request(a(n||{},{method:e,url:t,data:(n||{}).data}))}})),r.forEach(["post","put","patch"],(function(e){l.prototype[e]=function(t,n,r){return this.request(a(r||{},{method:e,url:t,data:n}))}})),e.exports=l},782:(e,t,n)=>{"use strict";var r=n(4867);function s(){this.handlers=[]}s.prototype.use=function(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1},s.prototype.eject=function(e){this.handlers[e]&&(this.handlers[e]=null)},s.prototype.forEach=function(e){r.forEach(this.handlers,(function(t){null!==t&&e(t)}))},e.exports=s},4097:(e,t,n)=>{"use strict";var r=n(1793),s=n(7303);e.exports=function(e,t){return e&&!r(t)?s(e,t):t}},5061:(e,t,n)=>{"use strict";var r=n(481);e.exports=function(e,t,n,s,o){var i=new Error(e);return r(i,t,n,s,o)}},3572:(e,t,n)=>{"use strict";var r=n(4867),s=n(8527),o=n(6502),i=n(5655);function a(e){e.cancelToken&&e.cancelToken.throwIfRequested()}e.exports=function(e){return a(e),e.headers=e.headers||{},e.data=s.call(e,e.data,e.headers,e.transformRequest),e.headers=r.merge(e.headers.common||{},e.headers[e.method]||{},e.headers),r.forEach(["delete","get","head","post","put","patch","common"],(function(t){delete e.headers[t]})),(e.adapter||i.adapter)(e).then((function(t){return a(e),t.data=s.call(e,t.data,t.headers,e.transformResponse),t}),(function(t){return o(t)||(a(e),t&&t.response&&(t.response.data=s.call(e,t.response.data,t.response.headers,e.transformResponse))),Promise.reject(t)}))}},481:e=>{"use strict";e.exports=function(e,t,n,r,s){return e.config=t,n&&(e.code=n),e.request=r,e.response=s,e.isAxiosError=!0,e.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code}},e}},7185:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){t=t||{};var n={},s=["url","method","data"],o=["headers","auth","proxy","params"],i=["baseURL","transformRequest","transformResponse","paramsSerializer","timeout","timeoutMessage","withCredentials","adapter","responseType","xsrfCookieName","xsrfHeaderName","onUploadProgress","onDownloadProgress","decompress","maxContentLength","maxBodyLength","maxRedirects","transport","httpAgent","httpsAgent","cancelToken","socketPath","responseEncoding"],a=["validateStatus"];function c(e,t){return r.isPlainObject(e)&&r.isPlainObject(t)?r.merge(e,t):r.isPlainObject(t)?r.merge({},t):r.isArray(t)?t.slice():t}function u(s){r.isUndefined(t[s])?r.isUndefined(e[s])||(n[s]=c(void 0,e[s])):n[s]=c(e[s],t[s])}r.forEach(s,(function(e){r.isUndefined(t[e])||(n[e]=c(void 0,t[e]))})),r.forEach(o,u),r.forEach(i,(function(s){r.isUndefined(t[s])?r.isUndefined(e[s])||(n[s]=c(void 0,e[s])):n[s]=c(void 0,t[s])})),r.forEach(a,(function(r){r in t?n[r]=c(e[r],t[r]):r in e&&(n[r]=c(void 0,e[r]))}));var l=s.concat(o).concat(i).concat(a),h=Object.keys(e).concat(Object.keys(t)).filter((function(e){return-1===l.indexOf(e)}));return r.forEach(h,u),n}},6026:(e,t,n)=>{"use strict";var r=n(5061);e.exports=function(e,t,n){var s=n.config.validateStatus;n.status&&s&&!s(n.status)?t(r("Request failed with status code "+n.status,n.config,null,n.request,n)):e(n)}},8527:(e,t,n)=>{"use strict";var r=n(4867),s=n(5655);e.exports=function(e,t,n){var o=this||s;return r.forEach(n,(function(n){e=n.call(o,e,t)})),e}},5655:(e,t,n)=>{"use strict";var r=n(4867),s=n(6016),o=n(481),i={"Content-Type":"application/x-www-form-urlencoded"};function a(e,t){!r.isUndefined(e)&&r.isUndefined(e["Content-Type"])&&(e["Content-Type"]=t)}var c,u={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:("undefined"!=typeof XMLHttpRequest?c=n(5448):"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process)&&(c=n(7970)),c),transformRequest:[function(e,t){return s(t,"Accept"),s(t,"Content-Type"),r.isFormData(e)||r.isArrayBuffer(e)||r.isBuffer(e)||r.isStream(e)||r.isFile(e)||r.isBlob(e)?e:r.isArrayBufferView(e)?e.buffer:r.isURLSearchParams(e)?(a(t,"application/x-www-form-urlencoded;charset=utf-8"),e.toString()):r.isObject(e)||t&&"application/json"===t["Content-Type"]?(a(t,"application/json"),function(e,t,n){if(r.isString(e))try{return(0,JSON.parse)(e),r.trim(e)}catch(e){if("SyntaxError"!==e.name)throw e}return(0,JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){var t=this.transitional,n=t&&t.silentJSONParsing,s=t&&t.forcedJSONParsing,i=!n&&"json"===this.responseType;if(i||s&&r.isString(e)&&e.length)try{return JSON.parse(e)}catch(e){if(i){if("SyntaxError"===e.name)throw o(e,this,"E_JSON_PARSE");throw e}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};r.forEach(["delete","get","head"],(function(e){u.headers[e]={}})),r.forEach(["post","put","patch"],(function(e){u.headers[e]=r.merge(i)})),e.exports=u},1849:e=>{"use strict";e.exports=function(e,t){return function(){for(var n=new Array(arguments.length),r=0;r<n.length;r++)n[r]=arguments[r];return e.apply(t,n)}}},5327:(e,t,n)=>{"use strict";var r=n(4867);function s(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}e.exports=function(e,t,n){if(!t)return e;var o;if(n)o=n(t);else if(r.isURLSearchParams(t))o=t.toString();else{var i=[];r.forEach(t,(function(e,t){null!=e&&(r.isArray(e)?t+="[]":e=[e],r.forEach(e,(function(e){r.isDate(e)?e=e.toISOString():r.isObject(e)&&(e=JSON.stringify(e)),i.push(s(t)+"="+s(e))})))})),o=i.join("&")}if(o){var a=e.indexOf("#");-1!==a&&(e=e.slice(0,a)),e+=(-1===e.indexOf("?")?"?":"&")+o}return e}},7303:e=>{"use strict";e.exports=function(e,t){return t?e.replace(/\/+$/,"")+"/"+t.replace(/^\/+/,""):e}},4372:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?{write:function(e,t,n,s,o,i){var a=[];a.push(e+"="+encodeURIComponent(t)),r.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),r.isString(s)&&a.push("path="+s),r.isString(o)&&a.push("domain="+o),!0===i&&a.push("secure"),document.cookie=a.join("; ")},read:function(e){var t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove:function(e){this.write(e,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},1793:e=>{"use strict";e.exports=function(e){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(e)}},6268:e=>{"use strict";e.exports=function(e){return"object"==typeof e&&!0===e.isAxiosError}},7985:(e,t,n)=>{"use strict";var r=n(4867);e.exports=r.isStandardBrowserEnv()?function(){var e,t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");function s(e){var r=e;return t&&(n.setAttribute("href",r),r=n.href),n.setAttribute("href",r),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:"/"===n.pathname.charAt(0)?n.pathname:"/"+n.pathname}}return e=s(window.location.href),function(t){var n=r.isString(t)?s(t):t;return n.protocol===e.protocol&&n.host===e.host}}():function(){return!0}},6016:(e,t,n)=>{"use strict";var r=n(4867);e.exports=function(e,t){r.forEach(e,(function(n,r){r!==t&&r.toUpperCase()===t.toUpperCase()&&(e[t]=n,delete e[r])}))}},4109:(e,t,n)=>{"use strict";var r=n(4867),s=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];e.exports=function(e){var t,n,o,i={};return e?(r.forEach(e.split("\n"),(function(e){if(o=e.indexOf(":"),t=r.trim(e.substr(0,o)).toLowerCase(),n=r.trim(e.substr(o+1)),t){if(i[t]&&s.indexOf(t)>=0)return;i[t]="set-cookie"===t?(i[t]?i[t]:[]).concat([n]):i[t]?i[t]+", "+n:n}})),i):i}},8713:e=>{"use strict";e.exports=function(e){return function(t){return e.apply(null,t)}}},4875:(e,t,n)=>{"use strict";var r=n(8593),s={};["object","boolean","number","function","string","symbol"].forEach((function(e,t){s[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}}));var o={},i=r.version.split(".");function a(e,t){for(var n=t?t.split("."):i,r=e.split("."),s=0;s<3;s++){if(n[s]>r[s])return!0;if(n[s]<r[s])return!1}return!1}s.transitional=function(e,t,n){var s=t&&a(t);function i(e,t){return"[Axios v"+r.version+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return function(n,r,a){if(!1===e)throw new Error(i(r," has been removed in "+t));return s&&!o[r]&&(o[r]=!0,console.warn(i(r," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,r,a)}},e.exports={isOlderVersion:a,assertOptions:function(e,t,n){if("object"!=typeof e)throw new TypeError("options must be an object");for(var r=Object.keys(e),s=r.length;s-- >0;){var o=r[s],i=t[o];if(i){var a=e[o],c=void 0===a||i(a,o,e);if(!0!==c)throw new TypeError("option "+o+" must be "+c)}else if(!0!==n)throw Error("Unknown option "+o)}},validators:s}},4867:(e,t,n)=>{"use strict";var r=n(1849),s=Object.prototype.toString;function o(e){return"[object Array]"===s.call(e)}function i(e){return void 0===e}function a(e){return null!==e&&"object"==typeof e}function c(e){if("[object Object]"!==s.call(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function u(e){return"[object Function]"===s.call(e)}function l(e,t){if(null!=e)if("object"!=typeof e&&(e=[e]),o(e))for(var n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else for(var s in e)Object.prototype.hasOwnProperty.call(e,s)&&t.call(null,e[s],s,e)}e.exports={isArray:o,isArrayBuffer:function(e){return"[object ArrayBuffer]"===s.call(e)},isBuffer:function(e){return null!==e&&!i(e)&&null!==e.constructor&&!i(e.constructor)&&"function"==typeof e.constructor.isBuffer&&e.constructor.isBuffer(e)},isFormData:function(e){return"undefined"!=typeof FormData&&e instanceof FormData},isArrayBufferView:function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&e.buffer instanceof ArrayBuffer},isString:function(e){return"string"==typeof e},isNumber:function(e){return"number"==typeof e},isObject:a,isPlainObject:c,isUndefined:i,isDate:function(e){return"[object Date]"===s.call(e)},isFile:function(e){return"[object File]"===s.call(e)},isBlob:function(e){return"[object Blob]"===s.call(e)},isFunction:u,isStream:function(e){return a(e)&&u(e.pipe)},isURLSearchParams:function(e){return"undefined"!=typeof URLSearchParams&&e instanceof URLSearchParams},isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&"undefined"!=typeof window&&"undefined"!=typeof document},forEach:l,merge:function e(){var t={};function n(n,r){c(t[r])&&c(n)?t[r]=e(t[r],n):c(n)?t[r]=e({},n):o(n)?t[r]=n.slice():t[r]=n}for(var r=0,s=arguments.length;r<s;r++)l(arguments[r],n);return t},extend:function(e,t,n){return l(t,(function(t,s){e[s]=n&&"function"==typeof t?r(t,n):t})),e},trim:function(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")},stripBOM:function(e){return 65279===e.charCodeAt(0)&&(e=e.slice(1)),e}}},1227:(e,t,n)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const n="color: "+this.color;t.splice(1,0,n,"color: inherit");let r=0,s=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(r++,"%c"===e&&(s=r))})),t.splice(s,0,n)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=n(2447)(t);const{formatters:r}=e.exports;r.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2447:(e,t,n)=>{e.exports=function(e){function t(e){let n,s,o,i=null;function a(...e){if(!a.enabled)return;const r=a,s=Number(new Date),o=s-(n||s);r.diff=o,r.prev=n,r.curr=s,n=s,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let i=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((n,s)=>{if("%%"===n)return"%";i++;const o=t.formatters[s];if("function"==typeof o){const t=e[i];n=o.call(r,t),e.splice(i,1),i--}return n})),t.formatArgs.call(r,e),(r.log||t.log).apply(r,e)}return a.namespace=e,a.useColors=t.useColors(),a.color=t.selectColor(e),a.extend=r,a.destroy=t.destroy,Object.defineProperty(a,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==i?i:(s!==t.namespaces&&(s=t.namespaces,o=t.enabled(e)),o),set:e=>{i=e}}),"function"==typeof t.init&&t.init(a),a}function r(e,n){const r=t(this.namespace+(void 0===n?":":n)+e);return r.log=this.log,r}function s(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(s),...t.skips.map(s).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let n;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const r=("string"==typeof e?e:"").split(/[\s,]+/),s=r.length;for(n=0;n<s;n++)r[n]&&("-"===(e=r[n].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let n,r;for(n=0,r=t.skips.length;n<r;n++)if(t.skips[n].test(e))return!1;for(n=0,r=t.names.length;n<r;n++)if(t.names[n].test(e))return!0;return!1},t.humanize=n(7824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((n=>{t[n]=e[n]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let n=0;for(let t=0;t<e.length;t++)n=(n<<5)-n+e.charCodeAt(t),n|=0;return t.colors[Math.abs(n)%t.colors.length]},t.enable(t.load()),t}},5158:(e,t,n)=>{"undefined"==typeof process||"renderer"===process.type||!0===process.browser||process.__nwjs?e.exports=n(1227):e.exports=n(39)},39:(e,t,n)=>{const r=n(6224),s=n(3837);t.init=function(e){e.inspectOpts={};const n=Object.keys(t.inspectOpts);for(let r=0;r<n.length;r++)e.inspectOpts[n[r]]=t.inspectOpts[n[r]]},t.log=function(...e){return process.stderr.write(s.format(...e)+"\n")},t.formatArgs=function(n){const{namespace:r,useColors:s}=this;if(s){const t=this.color,s="[3"+(t<8?t:"8;5;"+t),o=`  ${s};1m${r} [0m`;n[0]=o+n[0].split("\n").join("\n"+o),n.push(s+"m+"+e.exports.humanize(this.diff)+"[0m")}else n[0]=(t.inspectOpts.hideDate?"":(new Date).toISOString()+" ")+r+" "+n[0]},t.save=function(e){e?process.env.DEBUG=e:delete process.env.DEBUG},t.load=function(){return process.env.DEBUG},t.useColors=function(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):r.isatty(process.stderr.fd)},t.destroy=s.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."),t.colors=[6,2,3,4,5,1];try{const e=n(2130);e&&(e.stderr||e).level>=2&&(t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221])}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const n=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let r=process.env[t];return r=!!/^(yes|on|true|enabled)$/i.test(r)||!/^(no|off|false|disabled)$/i.test(r)&&("null"===r?null:Number(r)),e[n]=r,e}),{}),e.exports=n(2447)(t);const{formatters:o}=e.exports;o.o=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")},o.O=function(e){return this.inspectOpts.colors=this.useColors,s.inspect(e,this.inspectOpts)}},2261:(e,t,n)=>{var r;e.exports=function(){if(!r){try{r=n(5158)("follow-redirects")}catch(e){}"function"!=typeof r&&(r=function(){})}r.apply(null,arguments)}},938:(e,t,n)=>{var r=n(7310),s=r.URL,o=n(3685),i=n(5687),a=n(2781).Writable,c=n(9491),u=n(2261),l=["abort","aborted","connect","error","socket","timeout"],h=Object.create(null);l.forEach((function(e){h[e]=function(t,n,r){this._redirectable.emit(e,t,n,r)}}));var d=T("ERR_FR_REDIRECTION_FAILURE","Redirected request failed"),p=T("ERR_FR_TOO_MANY_REDIRECTS","Maximum number of redirects exceeded"),f=T("ERR_FR_MAX_BODY_LENGTH_EXCEEDED","Request body larger than maxBodyLength limit"),m=T("ERR_STREAM_WRITE_AFTER_END","write after end");function g(e,t){a.call(this),this._sanitizeOptions(e),this._options=e,this._ended=!1,this._ending=!1,this._redirectCount=0,this._redirects=[],this._requestBodyLength=0,this._requestBodyBuffers=[],t&&this.on("response",t);var n=this;this._onNativeResponse=function(e){n._processResponse(e)},this._performRequest()}function y(e){var t={maxRedirects:21,maxBodyLength:10485760},n={};return Object.keys(e).forEach((function(o){var i=o+":",a=n[i]=e[o],l=t[o]=Object.create(a);Object.defineProperties(l,{request:{value:function(e,o,a){if("string"==typeof e){var l=e;try{e=w(new s(l))}catch(t){e=r.parse(l)}}else s&&e instanceof s?e=w(e):(a=o,o=e,e={protocol:i});return"function"==typeof o&&(a=o,o=null),(o=Object.assign({maxRedirects:t.maxRedirects,maxBodyLength:t.maxBodyLength},e,o)).nativeProtocols=n,c.equal(o.protocol,i,"protocol mismatch"),u("options",o),new g(o,a)},configurable:!0,enumerable:!0,writable:!0},get:{value:function(e,t,n){var r=l.request(e,t,n);return r.end(),r},configurable:!0,enumerable:!0,writable:!0}})})),t}function v(){}function w(e){var t={protocol:e.protocol,hostname:e.hostname.startsWith("[")?e.hostname.slice(1,-1):e.hostname,hash:e.hash,search:e.search,pathname:e.pathname,path:e.pathname+e.search,href:e.href};return""!==e.port&&(t.port=Number(e.port)),t}function b(e,t){var n;for(var r in t)e.test(r)&&(n=t[r],delete t[r]);return null==n?void 0:String(n).trim()}function T(e,t){function n(e){Error.captureStackTrace(this,this.constructor),e?(this.message=t+": "+e.message,this.cause=e):this.message=t}return n.prototype=new Error,n.prototype.constructor=n,n.prototype.name="Error ["+e+"]",n.prototype.code=e,n}function C(e){for(var t of l)e.removeListener(t,h[t]);e.on("error",v),e.abort()}g.prototype=Object.create(a.prototype),g.prototype.abort=function(){C(this._currentRequest),this.emit("abort")},g.prototype.write=function(e,t,n){if(this._ending)throw new m;if(!("string"==typeof e||"object"==typeof e&&"length"in e))throw new TypeError("data should be a string, Buffer or Uint8Array");"function"==typeof t&&(n=t,t=null),0!==e.length?this._requestBodyLength+e.length<=this._options.maxBodyLength?(this._requestBodyLength+=e.length,this._requestBodyBuffers.push({data:e,encoding:t}),this._currentRequest.write(e,t,n)):(this.emit("error",new f),this.abort()):n&&n()},g.prototype.end=function(e,t,n){if("function"==typeof e?(n=e,e=t=null):"function"==typeof t&&(n=t,t=null),e){var r=this,s=this._currentRequest;this.write(e,t,(function(){r._ended=!0,s.end(null,null,n)})),this._ending=!0}else this._ended=this._ending=!0,this._currentRequest.end(null,null,n)},g.prototype.setHeader=function(e,t){this._options.headers[e]=t,this._currentRequest.setHeader(e,t)},g.prototype.removeHeader=function(e){delete this._options.headers[e],this._currentRequest.removeHeader(e)},g.prototype.setTimeout=function(e,t){var n=this;function r(t){t.setTimeout(e),t.removeListener("timeout",t.destroy),t.addListener("timeout",t.destroy)}function s(t){n._timeout&&clearTimeout(n._timeout),n._timeout=setTimeout((function(){n.emit("timeout"),o()}),e),r(t)}function o(){n._timeout&&(clearTimeout(n._timeout),n._timeout=null),n.removeListener("abort",o),n.removeListener("error",o),n.removeListener("response",o),t&&n.removeListener("timeout",t),n.socket||n._currentRequest.removeListener("socket",s)}return t&&this.on("timeout",t),this.socket?s(this.socket):this._currentRequest.once("socket",s),this.on("socket",r),this.on("abort",o),this.on("error",o),this.on("response",o),this},["flushHeaders","getHeader","setNoDelay","setSocketKeepAlive"].forEach((function(e){g.prototype[e]=function(t,n){return this._currentRequest[e](t,n)}})),["aborted","connection","socket"].forEach((function(e){Object.defineProperty(g.prototype,e,{get:function(){return this._currentRequest[e]}})})),g.prototype._sanitizeOptions=function(e){if(e.headers||(e.headers={}),e.host&&(e.hostname||(e.hostname=e.host),delete e.host),!e.pathname&&e.path){var t=e.path.indexOf("?");t<0?e.pathname=e.path:(e.pathname=e.path.substring(0,t),e.search=e.path.substring(t))}},g.prototype._performRequest=function(){var e=this._options.protocol,t=this._options.nativeProtocols[e];if(t){if(this._options.agents){var n=e.slice(0,-1);this._options.agent=this._options.agents[n]}var s=this._currentRequest=t.request(this._options,this._onNativeResponse);for(var o of(s._redirectable=this,l))s.on(o,h[o]);if(this._currentUrl=/^\//.test(this._options.path)?r.format(this._options):this._currentUrl=this._options.path,this._isRedirect){var i=0,a=this,c=this._requestBodyBuffers;!function e(t){if(s===a._currentRequest)if(t)a.emit("error",t);else if(i<c.length){var n=c[i++];s.finished||s.write(n.data,n.encoding,e)}else a._ended&&s.end()}()}}else this.emit("error",new TypeError("Unsupported protocol "+e))},g.prototype._processResponse=function(e){var t=e.statusCode;this._options.trackRedirects&&this._redirects.push({url:this._currentUrl,headers:e.headers,statusCode:t});var n=e.headers.location;if(!n||!1===this._options.followRedirects||t<300||t>=400)return e.responseUrl=this._currentUrl,e.redirects=this._redirects,this.emit("response",e),void(this._requestBodyBuffers=[]);if(C(this._currentRequest),e.destroy(),++this._redirectCount>this._options.maxRedirects)this.emit("error",new p);else{var s,o=this._options.beforeRedirect;o&&(s=Object.assign({Host:e.req.getHeader("host")},this._options.headers));var i=this._options.method;((301===t||302===t)&&"POST"===this._options.method||303===t&&!/^(?:GET|HEAD)$/.test(this._options.method))&&(this._options.method="GET",this._requestBodyBuffers=[],b(/^content-/i,this._options.headers));var a,c=b(/^host$/i,this._options.headers),l=r.parse(this._currentUrl),h=c||l.host,f=/^\w+:/.test(n)?this._currentUrl:r.format(Object.assign(l,{host:h}));try{a=r.resolve(f,n)}catch(e){return void this.emit("error",new d(e))}u("redirecting to",a),this._isRedirect=!0;var m=r.parse(a);if(Object.assign(this._options,m),(m.protocol!==l.protocol&&"https:"!==m.protocol||m.host!==h&&!function(e,t){const n=e.length-t.length-1;return n>0&&"."===e[n]&&e.endsWith(t)}(m.host,h))&&b(/^(?:authorization|cookie)$/i,this._options.headers),"function"==typeof o){var g={headers:e.headers,statusCode:t},y={url:f,method:i,headers:s};try{o(this._options,g,y)}catch(e){return void this.emit("error",e)}this._sanitizeOptions(this._options)}try{this._performRequest()}catch(e){this.emit("error",new d(e))}}},e.exports=y({http:o,https:i}),e.exports.wrap=y},6560:e=>{"use strict";e.exports=(e,t=process.argv)=>{const n=e.startsWith("-")?"":1===e.length?"-":"--",r=t.indexOf(n+e),s=t.indexOf("--");return-1!==r&&(-1===s||r<s)}},7824:e=>{var t=1e3,n=60*t,r=60*n,s=24*r;function o(e,t,n,r){var s=t>=1.5*n;return Math.round(e/n)+" "+r+(s?"s":"")}e.exports=function(e,i){i=i||{};var a,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var o=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(o){var i=parseFloat(o[1]);switch((o[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*i;case"weeks":case"week":case"w":return 6048e5*i;case"days":case"day":case"d":return i*s;case"hours":case"hour":case"hrs":case"hr":case"h":return i*r;case"minutes":case"minute":case"mins":case"min":case"m":return i*n;case"seconds":case"second":case"secs":case"sec":case"s":return i*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return i;default:return}}}}(e);if("number"===u&&isFinite(e))return i.long?(a=e,(c=Math.abs(a))>=s?o(a,c,s,"day"):c>=r?o(a,c,r,"hour"):c>=n?o(a,c,n,"minute"):c>=t?o(a,c,t,"second"):a+" ms"):function(e){var o=Math.abs(e);return o>=s?Math.round(e/s)+"d":o>=r?Math.round(e/r)+"h":o>=n?Math.round(e/n)+"m":o>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},2130:(e,t,n)=>{"use strict";const r=n(2037),s=n(6224),o=n(6560),{env:i}=process;let a;function c(e){return 0!==e&&{level:e,hasBasic:!0,has256:e>=2,has16m:e>=3}}function u(e,t){if(0===a)return 0;if(o("color=16m")||o("color=full")||o("color=truecolor"))return 3;if(o("color=256"))return 2;if(e&&!t&&void 0===a)return 0;const n=a||0;if("dumb"===i.TERM)return n;if("win32"===process.platform){const e=r.release().split(".");return Number(e[0])>=10&&Number(e[2])>=10586?Number(e[2])>=14931?3:2:1}if("CI"in i)return["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI","GITHUB_ACTIONS","BUILDKITE"].some((e=>e in i))||"codeship"===i.CI_NAME?1:n;if("TEAMCITY_VERSION"in i)return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(i.TEAMCITY_VERSION)?1:0;if("truecolor"===i.COLORTERM)return 3;if("TERM_PROGRAM"in i){const e=parseInt((i.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(i.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}return/-256(color)?$/i.test(i.TERM)?2:/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(i.TERM)||"COLORTERM"in i?1:n}o("no-color")||o("no-colors")||o("color=false")||o("color=never")?a=0:(o("color")||o("colors")||o("color=true")||o("color=always"))&&(a=1),"FORCE_COLOR"in i&&(a="true"===i.FORCE_COLOR?1:"false"===i.FORCE_COLOR?0:0===i.FORCE_COLOR.length?1:Math.min(parseInt(i.FORCE_COLOR,10),3)),e.exports={supportsColor:function(e){return c(u(e,e&&e.isTTY))},stdout:c(u(!0,s.isatty(1))),stderr:c(u(!0,s.isatty(2)))}},1864:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.VIEW_ID=void 0,t.VIEW_ID="remoteTargets"},2368:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteTreeDataProvider=void 0;const r=n(9496),s=n(7912),o=n(9496),i=n(1864),a=n(8351),c=n(3089),u=n(3857),l="remote-internal.getSshFoldersHistory",h="ms-vscode-remote.remote-ssh",d="remote-tunnels.internal.getFoldersHistory",p="ms-vscode.remote-server";t.RemoteTreeDataProvider=class{constructor(e){this.tunnels=[],this.sshHosts={},this.onDidChangeTreeDataEmitter=new o.EventEmitter,this.onDidChangeTreeData=this.onDidChangeTreeDataEmitter.event,e.subscriptions.push(this.onDidChangeTreeDataEmitter),e.subscriptions.push(r.commands.registerCommand("remote-explorer.signIntoTunnel",this.refresh,this),r.commands.registerCommand("remote-explorer.refresh",this.refresh,this),r.commands.registerCommand("remote-explorer.add",this.add,this),r.commands.registerCommand("remote-explorer.configureSsh",this.configure,this),r.commands.registerCommand("remote-explorer.deleteFolderHistoryItem",this.deleteFolderFromHistory,this),r.commands.registerCommand("remote-explorer.unregisterTunnel",this.unregisterTunnel,this),r.commands.registerCommand("remote-explorer.connectToRemoteInCurrentWindow",this.openRemoteInCurrentWindow,this),r.commands.registerCommand("remote-explorer.connectToRemoteInNewWindow",this.openRemoteInNewWindow,this),r.commands.registerCommand("remote-explorer.connectToFolderInCurrentWindow",this.openFolderCurrentWindow,this),r.commands.registerCommand("remote-explorer.connectToFolderInNewWindow",this.openFolderInNewWindow,this));const t=()=>r.extensions.allAcrossExtensionHosts.filter((e=>e.id===p)).length>0,n=()=>r.extensions.allAcrossExtensionHosts.filter((e=>e.id===h)).length>0;e.subscriptions.push(r.extensions.onDidChange((async()=>{this.tunnelExtInstalled=t(),this.sshExtInstalled=n(),await this.refresh()}))),this.tunnelExtInstalled=t(),this.sshExtInstalled=n(),this.initRefreshSshHostsPromise=this.refeshSshHosts(),this.initRefreshTunnelsPromise=this.refreshTunnels(!0)}getTreeItem(e){return e.getTreeItem()}async getChildren(e){if(void 0===e){const e=[];return this.tunnelExtInstalled&&e.push(new c.RemoteGroupItem(c.RemoteGroupType.tunnels)),this.sshExtInstalled&&e.push(new c.RemoteGroupItem(c.RemoteGroupType.ssh)),e}if(e instanceof c.RemoteGroupItem&&e.type===c.RemoteGroupType.tunnels){if(await this.initRefreshTunnelsPromise,void 0!==this.authenticatedIntoTunnelExt&&!1===this.authenticatedIntoTunnelExt)return[new c.RemoteTunnelNotAuthenticated];const e=[],t=[];for(const n of this.tunnels){const o=n,i=(0,s.getTunnelNameFromTags)(o);if(void 0===i)continue;const a=void 0!==o.status.hostConnectionCount&&0!==o.status.hostConnectionCount,u=o.tunnelId===this.activeTunnel?.tunnelId,l=(await r.commands.executeCommand(d,i)).length>0;a?e.push(new c.RemoteTunnelItem(o,i,u,a,l)):t.push(new c.RemoteTunnelItem(o,i,u,a,l))}return[...e.sort(c.RemoteTunnelItem.compare),...t.sort(c.RemoteTunnelItem.compare)]}if(e instanceof c.RemoteGroupItem&&e.type===c.RemoteGroupType.ssh){await this.initRefreshSshHostsPromise;const e=[],t=Object.keys(this.sshHosts);for(const n of t){const t=n===this.activeSshHost?.hostName,s=(await r.commands.executeCommand(l,n)).length>0;e.push(new c.RemoteSshItem(n,n,t,s))}return e}if(e instanceof c.RemoteTargetItem&&e.hasFolders){const t=e instanceof c.RemoteTunnelItem,n=await r.commands.executeCommand(t?d:l,e.label),s=(0,a.getActiveFolders)(),o=[];for(const e of n)o.push(new c.FolderItem(e,t?c.RemoteProtocol.tunneling:c.RemoteProtocol.ssh,s.includes(e)));return(0,u.explorerFolderSortOrder)()===u.FolderSortOrder.alphabetical?o.sort(c.FolderItem.compare):o}return[]}async refresh(){await r.window.withProgress({location:{viewId:i.VIEW_ID}},(()=>Promise.all([this.refreshTunnels(),this.refeshSshHosts()]))),this.onDidChangeTreeDataEmitter.fire()}async unregisterTunnel(e){e instanceof c.RemoteTunnelItem&&await r.window.withProgress({location:{viewId:i.VIEW_ID}},(async()=>{await r.commands.executeCommand("remote-tunnels.internal.unregisterTunnel",e.tunnel),this.tunnels=this.tunnels.filter((t=>t.tunnelId!==e.tunnel.tunnelId)),this.onDidChangeTreeDataEmitter.fire()}))}async openRemoteInCurrentWindow(e){e instanceof c.RemoteTunnelItem?this.openRemoteTunnel(e,!1):e instanceof c.RemoteSshItem&&this.openSshHost(e,!1)}async openRemoteInNewWindow(e){e instanceof c.RemoteTunnelItem?this.openRemoteTunnel(e,!0):e instanceof c.RemoteSshItem&&this.openSshHost(e,!0)}async add(e){if(e.type===c.RemoteGroupType.ssh)try{return await r.commands.executeCommand("opensshremotes.addNewSshHost")}catch(e){r.commands.executeCommand("workbench.extensions.action.showExtensionsWithIds",[h])}else try{return await r.commands.executeCommand("remote-tunnels.connectCurrentWindowToTunnel")}catch(e){r.commands.executeCommand("workbench.extensions.action.showExtensionsWithIds",[p])}}async configure(){return await r.commands.executeCommand("opensshremotes.openConfigFile")}async openFolderCurrentWindow(e){await r.commands.executeCommand("vscode.openFolder",e.toUri())}async openFolderInNewWindow(e){await r.commands.executeCommand("vscode.openFolder",e.toUri(),!0)}async deleteFolderFromHistory(e){e.protocol===c.RemoteProtocol.ssh?await r.commands.executeCommand("remote-internal.deleteSshFolderFromHistory",e.fd):await r.commands.executeCommand("remote-tunnels.internal.deleteFolderFromHistory",e.fd),this.onDidChangeTreeDataEmitter.fire()}async refreshTunnels(e=!1){if(this.tunnelExtInstalled){try{e&&(this.authenticatedIntoTunnelExt=await r.commands.executeCommand("remote-tunnels.internal.isAuthenticated"))}catch(e){}if(this.authenticatedIntoTunnelExt||!e)try{[this.tunnels,this.activeTunnel]=await Promise.all([r.commands.executeCommand("remote-tunnels.internal.getTunnelsList"),r.commands.executeCommand("remote-tunnels.internal.getActiveRemote")]),this.authenticatedIntoTunnelExt=!0}catch(e){console.warn("error refreshing tunnels",e)}}}async refeshSshHosts(){if(this.sshExtInstalled)try{[this.activeSshHost,this.sshHosts]=await Promise.all([r.commands.executeCommand("remote-internal.getActiveSshRemote"),r.commands.executeCommand("remote-internal.getConfiguredHostnames")])}catch(e){}}async openRemoteTunnel(e,t){await r.commands.executeCommand("remote-tunnels.internal.connectToRemote",e.label,t)}async openSshHost(e,t){const n={hostName:e.hostName};await r.commands.executeCommand("remote-internal.openRemoteSshTarget",n,t)}}},8351:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getActiveFolders=t.deactivate=t.activate=void 0;const r=n(9496),s=n(1864),o=n(2368);let i=[];t.activate=async function(e){r.window.createTreeView(s.VIEW_ID,{treeDataProvider:new o.RemoteTreeDataProvider(e),showCollapseAll:!0}),e.subscriptions.push(r.commands.registerCommand("remote-internal.setActiveFolders",(e=>{i=e})))},t.deactivate=function(){},t.getActiveFolders=function(){return i}},3089:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RemoteProtocol=t.FolderItem=t.RemoteSshItem=t.RemoteTunnelItem=t.RemoteTargetItem=t.RemoteTunnelNotAuthenticated=t.RemoteNotAvailableGroupItem=t.RemoteGroupItem=t.RemoteGroupType=void 0;const r=n(1017),s=n(9496),o=n(4176),i=(e,t)=>t;var a,c;!function(e){e[e.tunnels=0]="tunnels",e[e.ssh=1]="ssh"}(a=t.RemoteGroupType||(t.RemoteGroupType={}));class u{constructor(e){this.type=e}getTreeItem(){const e=new s.TreeItem(this.label,s.TreeItemCollapsibleState.Expanded);return this.type===a.ssh?e.contextValue="remote-explorer.sshGroup":e.contextValue="remote-explorer.tunnelGroup",e}get label(){return this.type===a.tunnels?"Tunnels":"SSH"}}t.RemoteGroupItem=u,t.RemoteNotAvailableGroupItem=class extends u{getTreeItem(){const e=new s.TreeItem(this.label);return e.description=i(0,"Unavailable in Desktop"),e}},t.RemoteTunnelNotAuthenticated=class{getTreeItem(){const e=new s.TreeItem(i(0,"Sign in to see the registered tunnels"));return e.contextValue="remote-explorer.remoteTunnelSignIn",e.iconPath=new s.ThemeIcon("github"),e}};class l{constructor(e,t,n){this.label=e,this.isActive=t,this.hasFolders=n,this.iconActive="vm-active",this.iconDefault="vm"}getTreeItem(){const e=new s.TreeItem(this.getLabel(),this.hasFolders?s.TreeItemCollapsibleState.Expanded:s.TreeItemCollapsibleState.None);return e.contextValue=this.type()===c.ssh?"remote-explorer.sshRemoteTarget":"remote-explorer.tunnelRemoteTarget",e.iconPath=new s.ThemeIcon(this.isActive?this.iconActive:this.iconDefault,this.isActive?new s.ThemeColor("debugIcon.startForeground"):this.iconColor),e.tooltip=this.tooltip,e.description=this.isActive?i(0,"connected"):this.description,e}getLabel(){return this.label}get tooltip(){return this.label}get description(){return""}get iconColor(){}}t.RemoteTargetItem=l;class h extends l{constructor(e,t,n,r,s){super(t,n,s),this.tunnel=e,this.isOnline=r,this.iconDefault=r?"vm-running":"vm-outline"}get tooltip(){return this.isOnline?`${this.label} is ready to connect to.`:`${this.label} is offline.`}get description(){return this.isOnline?i(0,"running"):i(0,"offline")}type(){return c.tunneling}}t.RemoteTunnelItem=h,h.compare=(e,t)=>e.label>t.label?1:e.label<t.label?-1:0,t.RemoteSshItem=class extends l{constructor(e,t,n,r){super(t,n,r),this.hostName=e}type(){return c.ssh}};class d{constructor(e,t,n){this.fd=e,this.protocol=t,this.isActive=n}getTreeItem(){let e=this.fd.name??r.posix.basename(this.fd.folder);e.endsWith(".code-workspace")&&(e=`${e.replace(/\.code-workspace$/,"")} (Workspace)`);const t=new s.TreeItem(e),n=(0,o.clientPlatformAgnosticFsPath)(this.fd.folder);return t.description=n.match(/^[a-z]:/i)?r.win32.dirname(n):r.posix.dirname(n),t.tooltip=`'${n}' on ${this.fd.remote}`,t.contextValue="remote-explorer.remoteFolder",t.resourceUri=this.toUri(),t.iconPath=new s.ThemeIcon(this.isActive?"folder-active":"folder"),t}toUri(){return s.Uri.parse(`vscode-remote://${this.protocol}+${this.fd.remote}${this.fd.folder}`)}}t.FolderItem=d,d.compare=(e,t)=>e.fd.folder>t.fd.folder?1:e.fd.folder<t.fd.folder?-1:0,function(e){e.ssh="ssh-remote",e.tunneling="tunneling"}(c=t.RemoteProtocol||(t.RemoteProtocol={}))},3857:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.explorerFolderSortOrder=t.FolderSortOrder=void 0;const r=n(9496);var s;!function(e){e[e.mru=1]="mru",e[e.alphabetical=2]="alphabetical"}(s=t.FolderSortOrder||(t.FolderSortOrder={})),t.explorerFolderSortOrder=function(){let e=r.workspace.getConfiguration().get("remote-explorer.foldersSortOrder")||r.workspace.getConfiguration().get("remote.SSH.foldersSortOrder")||"most recently used";return"most recently used"===e&&(e="mru"),s[e]}},1963:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isWindows=void 0,t.isWindows="win32"===process.platform},4176:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.clientPlatformAgnosticFsPath=void 0;const r=n(9496),s=n(1963);t.clientPlatformAgnosticFsPath=function(e){const t=r.Uri.file(e);return s.isWindows&&!e.match(/^[a-z]:/i)?t.fsPath.replace(/\\/g,"/"):t.fsPath}},9496:e=>{"use strict";e.exports=require("vscode")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},2057:e=>{"use strict";e.exports=require("constants")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7898:e=>{"use strict";e.exports=JSON.parse('{"name":"@vs/tunnels-management","version":"1.0.7269","description":"Tunnels library for Visual Studio tools","keywords":["Tunnels"],"dependencies":{"buffer":"^5.2.1","debug":"^4.1.1","vscode-jsonrpc":"^4.0.0","@vs/tunnels-contracts":"^1.0.0","axios":"^0.21.1"},"author":"Microsoft","main":"./index.js"}')},8593:e=>{"use strict";e.exports=JSON.parse('{"name":"axios","version":"0.21.4","description":"Promise based HTTP client for the browser and node.js","main":"index.js","scripts":{"test":"grunt test","start":"node ./sandbox/server.js","build":"NODE_ENV=production grunt build","preversion":"npm test","version":"npm run build && grunt version && git add -A dist && git add CHANGELOG.md bower.json package.json","postversion":"git push && git push --tags","examples":"node ./examples/server.js","coveralls":"cat coverage/lcov.info | ./node_modules/coveralls/bin/coveralls.js","fix":"eslint --fix lib/**/*.js"},"repository":{"type":"git","url":"https://github.com/axios/axios.git"},"keywords":["xhr","http","ajax","promise","node"],"author":"Matt Zabriskie","license":"MIT","bugs":{"url":"https://github.com/axios/axios/issues"},"homepage":"https://axios-http.com","devDependencies":{"coveralls":"^3.0.0","es6-promise":"^4.2.4","grunt":"^1.3.0","grunt-banner":"^0.6.0","grunt-cli":"^1.2.0","grunt-contrib-clean":"^1.1.0","grunt-contrib-watch":"^1.0.0","grunt-eslint":"^23.0.0","grunt-karma":"^4.0.0","grunt-mocha-test":"^0.13.3","grunt-ts":"^6.0.0-beta.19","grunt-webpack":"^4.0.2","istanbul-instrumenter-loader":"^1.0.0","jasmine-core":"^2.4.1","karma":"^6.3.2","karma-chrome-launcher":"^3.1.0","karma-firefox-launcher":"^2.1.0","karma-jasmine":"^1.1.1","karma-jasmine-ajax":"^0.1.13","karma-safari-launcher":"^1.0.0","karma-sauce-launcher":"^4.3.6","karma-sinon":"^1.0.5","karma-sourcemap-loader":"^0.3.8","karma-webpack":"^4.0.2","load-grunt-tasks":"^3.5.2","minimist":"^1.2.0","mocha":"^8.2.1","sinon":"^4.5.0","terser-webpack-plugin":"^4.2.3","typescript":"^4.0.5","url-search-params":"^0.10.0","webpack":"^4.44.2","webpack-dev-server":"^3.11.0"},"browser":{"./lib/adapters/http.js":"./lib/adapters/xhr.js"},"jsdelivr":"dist/axios.min.js","unpkg":"dist/axios.min.js","typings":"./index.d.ts","dependencies":{"follow-redirects":"^1.14.0"},"bundlesize":[{"path":"./dist/axios.min.js","threshold":"5kB"}]}')}},s={};function o(e){var t=s[e];if(void 0!==t)return t.exports;var n=s[e]={exports:{}};return r[e].call(n.exports,n,n.exports,o),n.exports}o.m=r,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,o.t=function(n,r){if(1&r&&(n=this(n)),8&r)return n;if("object"==typeof n&&n){if(4&r&&n.__esModule)return n;if(16&r&&"function"==typeof n.then)return n}var s=Object.create(null);o.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var a=2&r&&n;"object"==typeof a&&!~e.indexOf(a);a=t(a))Object.getOwnPropertyNames(a).forEach((e=>i[e]=()=>n[e]));return i.default=()=>n,o.d(s,i),s},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.f={},o.e=e=>Promise.all(Object.keys(o.f).reduce(((t,n)=>(o.f[n](e,t),t)),[])),o.u=e=>e+".js",o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),o.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n={898:1},o.f.require=(e,t)=>{n[e]||(e=>{var t=e.modules,r=e.ids,s=e.runtime;for(var i in t)o.o(t,i)&&(o.m[i]=t[i]);s&&s(o);for(var a=0;a<r.length;a++)n[r[a]]=1})(require("./"+o.u(e)))};var i=o(8351),a=exports;for(var c in i)a[c]=i[c];i.__esModule&&Object.defineProperty(a,"__esModule",{value:!0})})();